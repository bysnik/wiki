import{_ as s,c as n,o as p,ag as e}from"./chunks/framework.D4Vqf8I7.js";const k=JSON.parse('{"title":"Создайте структуру rpmbuild (если нет)","description":"","frontmatter":{},"headers":[],"relativePath":"docs/wi/rpmbuild.md","filePath":"docs/wi/rpmbuild.md","lastUpdated":1760531635000}'),l={name:"docs/wi/rpmbuild.md"};function i(t,a,c,r,d,o){return p(),n("div",null,a[0]||(a[0]=[e(`<p>Пример простого RPM-пакета для <strong>ALT Linux</strong>, который устанавливает <strong>обои рабочего стола</strong> и может использоваться как <strong>branding-пакет</strong> (например, <code>mycompany-wallpapers</code>).</p><hr><h2 id="структура-проекта" tabindex="-1">Структура проекта <a class="header-anchor" href="#структура-проекта" aria-label="Permalink to &quot;Структура проекта&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mycompany-wallpapers/</span></span>
<span class="line"><span>├── mycompany-wallpapers.spec</span></span>
<span class="line"><span>├── SOURCES/</span></span>
<span class="line"><span>│   └── wallpaper.jpg</span></span>
<span class="line"><span>└── README</span></span></code></pre></div><hr><h2 id="mycompany-wallpapers-spec" tabindex="-1"><code>mycompany-wallpapers.spec</code> <a class="header-anchor" href="#mycompany-wallpapers-spec" aria-label="Permalink to &quot;\`mycompany-wallpapers.spec\`&quot;">​</a></h2><div class="language-spec vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">spec</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%define wallpaper_name mycompany-wallpaper.jpg</span></span>
<span class="line"><span>%define wallpaper_dir  /usr/share/backgrounds</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Name:           mycompany-wallpapers</span></span>
<span class="line"><span>Version:        1.0</span></span>
<span class="line"><span>Release:        alt1</span></span>
<span class="line"><span>Summary:        MyCompany Branding Wallpapers</span></span>
<span class="line"><span>Group:          User Interface/Desktops</span></span>
<span class="line"><span>License:        Proprietary</span></span>
<span class="line"><span>Url:            https://mycompany.example.com/</span></span>
<span class="line"><span>BuildArch:      noarch</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Source0:        wallpaper.jpg</span></span>
<span class="line"><span>Source1:        README</span></span>
<span class="line"><span></span></span>
<span class="line"><span>BuildRequires:  rpm-build</span></span>
<span class="line"><span></span></span>
<span class="line"><span>%description</span></span>
<span class="line"><span>Official wallpapers for MyCompany desktop branding.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>%prep</span></span>
<span class="line"><span>%setup -T -c</span></span>
<span class="line"><span></span></span>
<span class="line"><span>%install</span></span>
<span class="line"><span>install -d -m 0755 %buildroot%wallpaper_dir</span></span>
<span class="line"><span>install -p -m 0644 %SOURCE0 %buildroot%wallpaper_dir/%wallpaper_name</span></span>
<span class="line"><span>install -p -m 0644 %SOURCE1 %buildroot%_datadir/doc/%name-%version/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>%files</span></span>
<span class="line"><span>%doc %_datadir/doc/%name-%version/README</span></span>
<span class="line"><span>%wallpaper_dir/%wallpaper_name</span></span>
<span class="line"><span></span></span>
<span class="line"><span>%changelog</span></span>
<span class="line"><span>* Wed Oct 15 2025 Nikita Bystrov &lt;bystrovno@basealt.ru&gt; 1.0-alt1</span></span>
<span class="line"><span>- Initial branding wallpaper package</span></span></code></pre></div><hr><h2 id="подготовка-фаилов" tabindex="-1">Подготовка файлов <a class="header-anchor" href="#подготовка-фаилов" aria-label="Permalink to &quot;Подготовка файлов&quot;">​</a></h2><ol><li>Положите ваше изображение в <code>SOURCES/wallpaper.jpg</code>.</li><li>Создайте <code>SOURCES/README</code> с кратким описанием (лицензия, автор и т.п.).</li></ol><hr><h2 id="сборка-пакета-в-alt-linux" tabindex="-1">Сборка пакета в ALT Linux <a class="header-anchor" href="#сборка-пакета-в-alt-linux" aria-label="Permalink to &quot;Сборка пакета в ALT Linux&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Установите зависимости (если нужно)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rpm-build</span></span></code></pre></div><h1 id="создаите-структуру-rpmbuild-если-нет" tabindex="-1">Создайте структуру rpmbuild (если нет) <a class="header-anchor" href="#создаите-структуру-rpmbuild-если-нет" aria-label="Permalink to &quot;Создайте структуру rpmbuild (если нет)&quot;">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpmdev-setuptree</span></span></code></pre></div><p>Скопируйте spec и источники</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mycompany-wallpapers.spec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/RPM/SPECS/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SOURCES/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/RPM/SOURCES/</span></span></code></pre></div><p>Соберите пакет</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpmbuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ba</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/RPM/SPECS/mycompany-wallpapers.spec</span></span></code></pre></div><p>Готовый RPM будет в <code>~/RPM/RPMS/noarch/</code>.</p><hr><h3 id="как-использовать-обои" tabindex="-1">Как использовать обои <a class="header-anchor" href="#как-использовать-обои" aria-label="Permalink to &quot;Как использовать обои&quot;">​</a></h3><p>После установки:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./mycompany-wallpapers-1.0-alt1.noarch.rpm</span></span></code></pre></div><p>Файл окажется в:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/usr/share/backgrounds/mycompany-wallpaper.jpg</span></span></code></pre></div><p>Пользователи (или системный администратор) могут указать его как обои через настройки рабочего стола (в GNOME, KDE, XFCE и т.д.).</p>`,27)]))}const g=s(l,[["render",i]]);export{k as __pageData,g as default};
