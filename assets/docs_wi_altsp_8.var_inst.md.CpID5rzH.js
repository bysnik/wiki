import{_ as e,c as t,o as i,ag as s}from"./chunks/framework.D4Vqf8I7.js";const l="/wiki/assets/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA7.BtlpKi3j.png",r="/wiki/assets/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA8.CyrQTyk0.png",a="/wiki/assets/httpt.CEcEcw9E.png",n="/wiki/assets/ipx.C-k2kz2-.png",p="data:image/png;base64,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",o="/wiki/assets/ipxex8664.CXDPHTfc.png",c="/wiki/assets/ipxe386.DtpF9dSE.png",m="/wiki/assets/ipxehttp.DjhZ89v2.png",f="/wiki/assets/uefipxivirtbox.CQbYSczs.png",x="/wiki/assets/usefipxe.B2zNvb2p.png",B=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/wi/altsp/8.var_inst.md","filePath":"docs/wi/altsp/8.var_inst.md","lastUpdated":1760001023000}'),P={name:"docs/wi/altsp/8.var_inst.md"};function z(b,A,v,E,h,u){return i(),t("div",null,A[0]||(A[0]=[s('<p>Операционная система должна иметь возможность установки с DVD-диска и USB-накопителя. Операционная система должна предоставлять варианты сетевой установки:</p><ul><li>[ ] PXE/TFTP (для режима Legacy/CSM-загрузки) ,</li><li>[x] HTTPClient (для спецификации UEFI 2.5 и выше),</li><li>[ ] iPXE.</li></ul><hr><p>Какой главный вывод можно сделать?</p><p>Операционная система мало как влияет на способность установки с диска, флешки или по сети. Тут главную роль играет Способности грузиться в этих вариантах компьютеру, ну и настройки сервера сетевой установки. А grub.cfg переписывать в любом случае придётся (Если речь про сетевую установку)</p><h4 id="pxe-tftp-для-режима-legacy-csm-загрузки" tabindex="-1">PXE/TFTP (для режима Legacy/CSM-загрузки) <a class="header-anchor" href="#pxe-tftp-для-режима-legacy-csm-загрузки" aria-label="Permalink to &quot;PXE/TFTP (для режима Legacy/CSM-загрузки)&quot;">​</a></h4><p><a href="https://www.altlinux.org/NetInstall" target="_blank" rel="noreferrer">https://www.altlinux.org/NetInstall</a></p><ul><li>Стенд: PXE Сервер и PXE Client, работает и FTP, и NFS</li><li>Стенд: PXE Сервер и PXE Client: HTTP не заработал, грузится, но в последний момент: <img src="'+l+'" alt=""><img src="'+r+'" alt=""> Как я понимаю по последним логам - почему то не получается смонтировать образ системы</li></ul><h4 id="httpclient-для-спецификации-uefi-2-5-и-выше" tabindex="-1">HTTPClient (для спецификации UEFI 2.5 и выше) <a class="header-anchor" href="#httpclient-для-спецификации-uefi-2-5-и-выше" aria-label="Permalink to &quot;HTTPClient (для спецификации UEFI 2.5 и выше)&quot;">​</a></h4><ul><li>Virtual Box не умеет грузиться чисто по http, но умеет virt-manager, пытаюсь поднять стенд. Не всё так просто, информации по Альту нет, да и в принципе в интернете информации минимум, есть более менее гайд по SLES <a href="https://documentation.suse.com/sles/15-SP6/html/SLES-all/cha-deployment-prep-uefi-httpboot.html" target="_blank" rel="noreferrer">https://documentation.suse.com/sles/15-SP6/html/SLES-all/cha-deployment-prep-uefi-httpboot.html</a> Ну я и фрукт) По факту тупо поднять dhcp-сервер и парочкой доп параметров и любой http-сервер, пробросив им все файлы, вот и вся запара.</li><li>Нет, конечно есть возможность заставить Virtual Box грузиться по http, но есть ли смысл проверять? (Нужно всего лишь скормить Virtual Box полноценный iPXE Firmware вместо его урезанного)</li></ul><p>Используя virt-manager происходит следующее:</p><p><img src="'+a+'" alt=""></p><p>Аналогично тому, как в виртуал бокс загружается в UEFI PXE (см. ниже)</p><h4 id="ipxe" tabindex="-1">iPXE <a class="header-anchor" href="#ipxe" aria-label="Permalink to &quot;iPXE&quot;">​</a></h4><p>Поправочка 1: Virtual Box <img src="'+n+'" alt=""></p><p>Поправочка 2: libvirt <img src="'+p+'" alt=""></p><p>ТО есть, суть такая - у обоих вариантов виртуализации в качестве фирмваря PXE используется открытый и своободный iPXE. Далее, используя серверы сетевой установки Альта мы грузимся в стандартном PXE режиме, после чего он подгруждает pxelinux, который является промежуточным загрузчиком. И он работал как надо.</p><p>Пытаясь сделать промежуточным загрузчиком iPXE ничего и не начинало работать. Уж не знаю, чисто технически реализуемо использовать iPXE под iPXE, мне кажется да, в виртуалках я это запустить не смог.</p><p>Полезная статейка: <a href="https://habr.com/ru/companies/selectel/articles/888188/" target="_blank" rel="noreferrer">https://habr.com/ru/companies/selectel/articles/888188/</a></p><ul><li><a href="https://www.altlinux.org/Rescue/Deploy#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8" target="_blank" rel="noreferrer">https://www.altlinux.org/Rescue/Deploy#Настройка_сервера_сетевой_загрузки</a></li></ul><p>Сервер поднять получилось, теперь две проблемы:</p><ol><li>Гайд именно по rescue исо образу, сделать его очень запарно, пробую уже готовый вариант, но он не СП</li><li>Проблема инициализации железа при iPXE в виртуал боксе, буду пробовать в virt-manager ИТОГО: <img src="'+o+'" alt=""><img src="'+c+'" alt=""><img src="'+m+'" alt=""> Это максимум чего я смог добиться в virt-manager, далее просто вылет</li></ol><h3 id="попытки-запустить-uefi-pxe" tabindex="-1">Попытки запустить UEFI PXE <a class="header-anchor" href="#попытки-запустить-uefi-pxe" aria-label="Permalink to &quot;Попытки запустить UEFI PXE&quot;">​</a></h3><p>То ли вина в grubx64.efi, то ли проблема в EFI прошивке VirtualBox, но в итоге я попадаю в grub, но не работает сетевая подсистема из-за чего даже подсоса grub.cfg не происходит <a href="https://bugzilla.altlinux.org/40067" target="_blank" rel="noreferrer">https://bugzilla.altlinux.org/40067</a></p><p><img src="'+f+'" alt=""></p><p>ОБНОВЛЕНО: Стенд на libvirt: Simple.PXE.Server и PXE.Client Заработала UEFI PXE загрузка как по маслу) Единственная мелкая запара с выбором UEFI в libvirt, так как почему то при редактировании XML мне запрещалось отключать Secure Boot, хотя я его и не включал(. Главное - что заработало) конфигурация виртуального клиента: <img src="'+x+'" alt=""></p>',26)]))}const T=e(P,[["render",z]]);export{B as __pageData,T as default};
