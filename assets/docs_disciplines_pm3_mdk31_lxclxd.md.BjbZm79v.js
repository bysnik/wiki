import{_ as n,c as s,o as l,ag as t}from"./chunks/framework.D4Vqf8I7.js";const u=JSON.parse('{"title":"Краткая теоретическая лекция по LXC и LXD","description":"","frontmatter":{"mermaidTheme":"forest"},"headers":[],"relativePath":"docs/disciplines/pm3/mdk31/lxclxd.md","filePath":"docs/disciplines/pm3/mdk31/lxclxd.md","lastUpdated":1765543232000}'),p={name:"docs/disciplines/pm3/mdk31/lxclxd.md"};function e(i,a,o,r,d,c){return l(),s("div",null,a[0]||(a[0]=[t(`<h1 id="краткая-теоретическая-лекция-по-lxc-и-lxd" tabindex="-1">Краткая теоретическая лекция по LXC и LXD <a class="header-anchor" href="#краткая-теоретическая-лекция-по-lxc-и-lxd" aria-label="Permalink to &quot;Краткая теоретическая лекция по LXC и LXD&quot;">​</a></h1><h2 id="lxc-linux-containers" tabindex="-1">LXC (Linux Containers) <a class="header-anchor" href="#lxc-linux-containers" aria-label="Permalink to &quot;LXC (Linux Containers)&quot;">​</a></h2><h3 id="что-это" tabindex="-1">Что это? <a class="header-anchor" href="#что-это" aria-label="Permalink to &quot;Что это?&quot;">​</a></h3><p>Низкоуровневая <strong>технология контейнеризации</strong> операционной системы для Linux.</p><h3 id="суть" tabindex="-1">Суть <a class="header-anchor" href="#суть" aria-label="Permalink to &quot;Суть&quot;">​</a></h3><p>Позволяет изолировать процессы в рамках одного ядра Linux, создавая виртуальные окружения (&quot;контейнеры&quot;), похожие на полноценные системы.</p><h3 id="принцип-работы" tabindex="-1">Принцип работы <a class="header-anchor" href="#принцип-работы" aria-label="Permalink to &quot;Принцип работы&quot;">​</a></h3><p>Использует механизмы ядра Linux:</p><ul><li><strong>Cgroups (Control Groups)</strong><br> Ограничивают и изолируют использование ресурсов: <ul><li>CPU</li><li>Память</li><li>Диск</li><li>Сеть</li></ul></li><li><strong>Namespaces (Пространства имён)</strong><br> Изолируют представление процессов о системе: <ul><li><code>pid</code> (ID процессов)</li><li><code>net</code> (сеть и интерфейсы)</li><li><code>ipc</code> (межпроцессное взаимодействие)</li><li><code>mnt</code> (точки монтирования)</li><li><code>uts</code> (hostname и доменное имя)</li><li><code>user</code> (ID пользователей)</li><li><code>cgroup</code> (cgroup namespace)</li></ul></li></ul><h3 id="преимущества-перед-виртуальными-машинами" tabindex="-1">Преимущества перед виртуальными машинами <a class="header-anchor" href="#преимущества-перед-виртуальными-машинами" aria-label="Permalink to &quot;Преимущества перед виртуальными машинами&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Характеристика</th><th>Преимущество</th></tr></thead><tbody><tr><td><strong>Легковесность</strong></td><td>Используют ядро хоста, нет эмуляции оборудования</td></tr><tr><td><strong>Скорость запуска</strong></td><td>Секунды вместо минут</td></tr><tr><td><strong>Эффективность</strong></td><td>Минимальные накладные расходы ресурсов</td></tr><tr><td><strong>Плотность</strong></td><td>Большее количество контейнеров на единицу железа</td></tr></tbody></table><h3 id="ограничения-и-особенности" tabindex="-1">Ограничения и особенности <a class="header-anchor" href="#ограничения-и-особенности" aria-label="Permalink to &quot;Ограничения и особенности&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌───────────────────────┐</span></span>
<span class="line"><span>│    Общее ядро        │</span></span>
<span class="line"><span>└──────────┬───────────┘</span></span>
<span class="line"><span>           ├───────┐</span></span>
<span class="line"><span>           ▼       ▼</span></span>
<span class="line"><span>┌───────────────────────┐    ┌───────────────────────┐</span></span>
<span class="line"><span>│ Уязвимости ядра      │    │ Только Linux-       │</span></span>
<span class="line"><span>│ влияют на все        │    │ дистрибутивы       │</span></span>
<span class="line"><span>│ контейнеры           │    │                    │</span></span>
<span class="line"><span>└───────────────────────┘    └───────────────────────┘</span></span>
<span class="line"><span></span></span>
<span class="line"><span>┌───────────────────────┐</span></span>
<span class="line"><span>│ Сложность настройки  │</span></span>
<span class="line"><span>└──────────┬───────────┘</span></span>
<span class="line"><span>           ├───────┐</span></span>
<span class="line"><span>           ▼       ▼</span></span>
<span class="line"><span>┌───────────────────────┐    ┌───────────────────────┐</span></span>
<span class="line"><span>│ Ручная работа с      │    │ Требует глубокого    │</span></span>
<span class="line"><span>│ cgroups/namespaces   │    │ понимания            │</span></span>
<span class="line"><span>└───────────────────────┘    └───────────────────────┘</span></span></code></pre></div><h2 id="lxd-linux-container-daemon" tabindex="-1">LXD (Linux Container Daemon) <a class="header-anchor" href="#lxd-linux-container-daemon" aria-label="Permalink to &quot;LXD (Linux Container Daemon)&quot;">​</a></h2><h3 id="что-это-1" tabindex="-1">Что это? <a class="header-anchor" href="#что-это-1" aria-label="Permalink to &quot;Что это?&quot;">​</a></h3><p>Высокоуровневый <strong>менеджер контейнеров и виртуальных машин</strong>, построенный поверх LXC.</p><h3 id="основные-функции" tabindex="-1">Основные функции <a class="header-anchor" href="#основные-функции" aria-label="Permalink to &quot;Основные функции&quot;">​</a></h3><p>Ключевые возможности LXD:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌──────────────────────────────┬─────────┐</span></span>
<span class="line"><span>│         Возможность         │ Вес (%) │</span></span>
<span class="line"><span>├──────────────────────────────┼─────────┤</span></span>
<span class="line"><span>│ Управление контейнерами/ВМ  │   25    │</span></span>
<span class="line"><span>│ Централизованные образы ОС  │   20    │</span></span>
<span class="line"><span>│ Снапшоты и миграция         │   15    │</span></span>
<span class="line"><span>│ Гибкие сети и хранилища     │   15    │</span></span>
<span class="line"><span>│ Кластеризация               │   10    │</span></span>
<span class="line"><span>│ REST API                    │   10    │</span></span>
<span class="line"><span>│ Безопасность                │    5    │</span></span>
<span class="line"><span>└──────────────────────────────┴─────────┘</span></span></code></pre></div><h3 id="архитектура" tabindex="-1">Архитектура <a class="header-anchor" href="#архитектура" aria-label="Permalink to &quot;Архитектура&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌───────────────────────┐</span></span>
<span class="line"><span>│     Клиент (lxc)     │</span></span>
<span class="line"><span>└──────────┬───────────┘</span></span>
<span class="line"><span>           │ REST API</span></span>
<span class="line"><span>           ▼</span></span>
<span class="line"><span>┌───────────────────────┐</span></span>
<span class="line"><span>│     Демон (lxd)      │</span></span>
<span class="line"><span>└──────────┬───────────┘</span></span>
<span class="line"><span>   ┌───────┴───────┐</span></span>
<span class="line"><span>   ▼       ▼       ▼       ▼</span></span>
<span class="line"><span>┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐</span></span>
<span class="line"><span>│Конт-│ │ВМ   │ │Сети │ │Хра- │</span></span>
<span class="line"><span>│ейне-│ │(KVM)│ │     │ │нили-│</span></span>
<span class="line"><span>│ры   │ │     │ │     │ │ща   │</span></span>
<span class="line"><span>│LXC  │ │     │ │     │ │     │</span></span>
<span class="line"><span>└─────┘ └─────┘ └─────┘ └─────┘</span></span></code></pre></div><h3 id="ключевые-преимущества" tabindex="-1">Ключевые преимущества <a class="header-anchor" href="#ключевые-преимущества" aria-label="Permalink to &quot;Ключевые преимущества&quot;">​</a></h3><ul><li><strong>Упрощение работы</strong><br> Сокрытие сложности низкоуровневых команд LXC</li><li><strong>Безопасность</strong><br> AppArmor, Seccomp, изоляция ресурсов</li><li><strong>Экосистема образов</strong><br> Поддержка Ubuntu, CentOS, Debian, Alpine</li><li><strong>Профессиональные функции</strong><ul><li>Live-миграция</li><li>Профили ресурсов</li><li>Поддержка ZFS/btrfs/Ceph</li><li>Кластерное управление</li></ul></li></ul><h2 id="сравнение-lxc-и-lxd" tabindex="-1">Сравнение LXC и LXD <a class="header-anchor" href="#сравнение-lxc-и-lxd" aria-label="Permalink to &quot;Сравнение LXC и LXD&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Критерий</th><th>LXC</th><th>LXD</th></tr></thead><tbody><tr><td><strong>Уровень</strong></td><td>Низкоуровневый движок</td><td>Высокоуровневый оркестратор</td></tr><tr><td><strong>Управление</strong></td><td>Ручная работа с namespaces</td><td>Удобный CLI/REST API</td></tr><tr><td><strong>Безопасность</strong></td><td>Базовые настройки</td><td>AppArmor/Seccomp &quot;из коробки&quot;</td></tr><tr><td><strong>Функции</strong></td><td>Контейнеризация</td><td>+ВМ, снапшоты, кластеризация</td></tr><tr><td><strong>Сложность</strong></td><td>Требует экспертных знаний</td><td>Доступно администраторам</td></tr></tbody></table><h2 id="когда-использовать" tabindex="-1">Когда использовать? <a class="header-anchor" href="#когда-использовать" aria-label="Permalink to &quot;Когда использовать?&quot;">​</a></h2><p><strong>LXC:</strong></p><ul><li>Низкоуровневые задачи контейнеризации</li><li>Кастомные скрипты и интеграции</li><li>Специфические эксперименты с ядром</li></ul><p><strong>LXD:</strong></p><ul><li>Промышленное управление инфраструктурой</li><li>Разработка и тестирование сред</li><li>Гибридные среды (контейнеры + ВМ)</li><li>Микросервисные архитектуры</li></ul><p><strong>Ключевая аналогия</strong>:<br> LXC — это &quot;кирпичи&quot;, а LXD — &quot;завод по производству зданий&quot; из этих кирпичей.</p><p><strong>Технологический стек</strong>: LXD = LXC + Система управления + Безопасность + Enterprise-функции.</p>`,32)]))}const g=n(p,[["render",e]]);export{u as __pageData,g as default};
