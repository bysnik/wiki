import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.D4Vqf8I7.js";const e="/wiki/assets/minio.Dhz9KRMY.png",g=JSON.parse('{"title":"MiniIO","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"docs/wi/miniio.md","filePath":"docs/wi/miniio.md","lastUpdated":1754554139000}'),h={name:"docs/wi/miniio.md"};function p(l,s,k,d,o,r){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="miniio" tabindex="-1">MiniIO <a class="header-anchor" href="#miniio" aria-label="Permalink to &quot;MiniIO&quot;">​</a></h1><p><img src="https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F1kco4frqn1sh3y3umvye.png" alt=""></p><p>MiniIO — это высокопроизводительное, легковесное объектное хранилище данных с открытым исходным кодом, совместимое с Amazon S3 API, предназначенное для работы в облачных и локальных средах. Оно обеспечивает масштабируемое и отказоустойчивое хранение больших объёмов неструктурированных данных, таких как изображения, видео, логи и резервные копии, поддерживая при этом высокую скорость доступа и минимальные задержки. Благодаря модульной архитектуре и простоте развёртывания MiniIO идеально подходит для Kubernetes, edge-устройств и гибридных инфраструктур, предлагая инструменты для репликации, шифрования и управления доступом через IAM-подобную политику. Его эффективность и низкие требования к ресурсам делают его популярным выбором для DevOps, разработчиков и компаний, ищущих S3-совместимое решение без сложностей традиционных облачных хранилищ.</p><p><a href="https://packages.altlinux.org/ru/p11/binary/minio/x86_64/" target="_blank" rel="noreferrer">https://packages.altlinux.org/ru/p11/binary/minio/x86_64/</a></p><p><a href="https://elma365.com/ru/help/platform/minio-cluster.html" target="_blank" rel="noreferrer">https://elma365.com/ru/help/platform/minio-cluster.html</a></p><p><a href="https://www.dmosk.ru/miniinstruktions.php?mini=minio" target="_blank" rel="noreferrer">https://www.dmosk.ru/miniinstruktions.php?mini=minio</a></p><h2 id="установка-одна-нода-два-диска" tabindex="-1">Установка: одна нода, два диска <a class="header-anchor" href="#установка-одна-нода-два-диска" aria-label="Permalink to &quot;Установка: одна нода, два диска&quot;">​</a></h2><h3 id="шаг-1-подготовка-дисков" tabindex="-1">Шаг 1. Подготовка дисков <a class="header-anchor" href="#шаг-1-подготовка-дисков" aria-label="Permalink to &quot;Шаг 1. Подготовка дисков&quot;">​</a></h3><p>Создайте каталоги для монтирования дисков:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/minio/data1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/minio/data2</span></span></code></pre></div><p>Подготовьте файловую систему XFS на дисках (например, для дисков /dev/sdb и /dev/sdc):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.xfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DISK1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.xfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DISK2</span></span></code></pre></div><p>Добавьте точки монтирования дисков в файле /etc/fstab:</p><div class="language-fstab vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">fstab</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>LABEL=DISK1 /var/lib/minio/data1 xfs defaults,noatime 0 2</span></span>
<span class="line"><span>LABEL=DISK2 /var/lib/minio/data2 xfs defaults,noatime 0 2</span></span></code></pre></div><p>Проверьте монтирование подготовленных дисков:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -av</span></span></code></pre></div><h3 id="шаг-2-установка-minio" tabindex="-1">Шаг 2. Установка MinIO <a class="header-anchor" href="#шаг-2-установка-minio" aria-label="Permalink to &quot;Шаг 2. Установка MinIO&quot;">​</a></h3><p>Загрузите последний стабильный binary-файл MinIO:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://dl.min.io/server/minio/release/linux-amd64/minio</span></span></code></pre></div><p>Дайте файлу права на выполнение:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio</span></span></code></pre></div><p>Переместите файл в системную директорию:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/</span></span></code></pre></div><h3 id="шаг-3-установка-minio-client" tabindex="-1">Шаг 3. Установка MinIO Client <a class="header-anchor" href="#шаг-3-установка-minio-client" aria-label="Permalink to &quot;Шаг 3. Установка MinIO Client&quot;">​</a></h3><p>Загрузите последний стабильный binary-файл MinIO Client:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://dl.min.io/client/mc/release/linux-amd64/mc</span></span></code></pre></div><p>Дайте файлу права на выполнение:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mc</span></span></code></pre></div><p>Переместите файл в системную директорию:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/</span></span></code></pre></div><h3 id="шаг-4-создание-пользователя-и-группы-minio-user" tabindex="-1">Шаг 4. Создание пользователя и группы minio-user <a class="header-anchor" href="#шаг-4-создание-пользователя-и-группы-minio-user" aria-label="Permalink to &quot;Шаг 4. Создание пользователя и группы minio-user&quot;">​</a></h3><p>Создайте группу и пользователя:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio-user</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -M</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio-user</span></span></code></pre></div><p>Создайте директории для хранения TLS-сертификатов:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/minio/certs/CAs</span></span></code></pre></div><p>Задайте разрешения на доступ к каталогам:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio-user:minio-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/minio</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio-user:minio-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/minio</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> u+rxw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/minio</span></span></code></pre></div><h3 id="шаг-5-создание-фаила-сервиса-для-systemd" tabindex="-1">Шаг 5. Создание файла сервиса для systemd <a class="header-anchor" href="#шаг-5-создание-фаила-сервиса-для-systemd" aria-label="Permalink to &quot;Шаг 5. Создание файла сервиса для systemd&quot;">​</a></h3><p>Загрузите официальный файл сервиса MinIO:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/minio/minio-service/master/linux-systemd/minio.service</span></span></code></pre></div><p>Проверьте содержимое minio.service и переместите файл:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio.service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/systemd/system</span></span></code></pre></div><h3 id="шаг-6-создание-фаила-окружения-для-minio" tabindex="-1">Шаг 6. Создание файла окружения для MinIO <a class="header-anchor" href="#шаг-6-создание-фаила-окружения-для-minio" aria-label="Permalink to &quot;Шаг 6. Создание файла окружения для MinIO&quot;">​</a></h3><p>Создайте файл окружения в /etc/default/minio. Пример содержимого:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set the hosts and volumes MinIO uses at startup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_VOLUMES</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/lib/minio/data1/minio /var/lib/minio/data2/minio&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set all MinIO server options</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;--certs-dir /etc/minio/certs --console-address :9001&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_REGION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ru-central-1&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_ACCESS_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YOUR_ACCESS_KEY&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_SECRET_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YOUR_SECRET_KEY&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_ROOT_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YOUR_ROOT_USER&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MINIO_ROOT_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YOUR_ROOT_PASSWORD&quot;</span></span></code></pre></div><p>Загрузите эти переменные окружения (действие необязательное):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio-user</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;source /etc/default/minio&#39;</span></span></code></pre></div><h3 id="шаг-7-запуск-сервиса-minio" tabindex="-1">Шаг 7. Запуск сервиса MinIO <a class="header-anchor" href="#шаг-7-запуск-сервиса-minio" aria-label="Permalink to &quot;Шаг 7. Запуск сервиса MinIO&quot;">​</a></h3><p>Выполните команды для запуска службы:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio.service</span></span></code></pre></div><p>Убедитесь, что сервис запустился без ошибок:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minio.service</span></span></code></pre></div><h3 id="шаг-8-настроика-подключения-к-minio" tabindex="-1">Шаг 8. Настройка подключения к MinIO <a class="header-anchor" href="#шаг-8-настроика-подключения-к-minio" aria-label="Permalink to &quot;Шаг 8. Настройка подключения к MinIO&quot;">​</a></h3><p>После запуска сервиса вы сможете открыть браузер и перейти на страницу http://&lt;IP-адрес сервера&gt;:9001 — там откроется панель управления хранилищем S3.</p><p>Логин по умолчанию: minioadmin Пароль по умолчанию: minioadmin</p><h3 id="проблем-отсутствие-панели-администратора-в-веб-интерфеисе" tabindex="-1">Проблем: отсутствие панели администратора в веб-интерфейсе <a class="header-anchor" href="#проблем-отсутствие-панели-администратора-в-веб-интерфеисе" aria-label="Permalink to &quot;Проблем: отсутствие панели администратора в веб-интерфейсе&quot;">​</a></h3><p><img src="`+e+'" alt="alt text"></p><div class="tip custom-block"><p class="custom-block-title">Цитата со страницы <a href="https://docs.min.io/community/minio-object-store/administration/minio-console.html" target="_blank" rel="noreferrer">документации</a></p><p>Изменено в версии <code>RELEASE.2025-05-24T17-08-30Z</code>: Консоль теперь предоставляет только возможности обозревателя объектов, аналогичные доступным в <code>mc</code> инструменте. Для административных действий, таких как управление пользователями, используйте команду <code>mc admin</code></p></div><p>Вот и вся проблема. Они тупо вырезали весь административный интерфейс из веб-консоли. Ну огонь вообще.</p><p>Теперь в графике можно создавать и удалять бакеты, и загружать/удалять из них файлы, ну и по мелочи ещё.</p>',60)]))}const F=i(h,[["render",p]]);export{g as __pageData,F as default};
