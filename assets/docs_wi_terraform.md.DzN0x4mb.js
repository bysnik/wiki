import{_ as a,c as n,o as e,ag as p}from"./chunks/framework.D4Vqf8I7.js";const k=JSON.parse('{"title":"Terraform","description":"","frontmatter":{},"headers":[],"relativePath":"docs/wi/terraform.md","filePath":"docs/wi/terraform.md","lastUpdated":1765798008000}'),i={name:"docs/wi/terraform.md"};function l(r,s,t,o,c,h){return e(),n("div",null,s[0]||(s[0]=[p(`<h1 id="terraform" tabindex="-1">Terraform <a class="header-anchor" href="#terraform" aria-label="Permalink to &quot;Terraform&quot;">‚Äã</a></h1><p><img src="https://pan.dev/img/product-landing/terraform/terraform-article.jpeg" alt=""></p><p><a href="https://habr.com/ru/articles/743334/" target="_blank" rel="noreferrer">https://habr.com/ru/articles/743334/</a></p><p><a href="https://habr.com/ru/articles/759486/" target="_blank" rel="noreferrer">https://habr.com/ru/articles/759486/</a></p><h2 id="–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-terraform-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–∏-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞" tabindex="-1"><strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Terraform: –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong> <a class="header-anchor" href="#–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-terraform-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–∏-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞" aria-label="Permalink to &quot;**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Terraform: –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**&quot;">‚Äã</a></h2><p>Terraform ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–¥–∏–≥–º—É <strong>¬´–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥¬ª (IaC)</strong>. –ï–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—Ç—å –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ: –≤—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ <em>–∂–µ–ª–∞–µ–º–æ–µ –∫–æ–Ω–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</em> –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∞ Terraform —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–ª–∞–Ω –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.</p><hr><h3 id="–ø—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-–æ—Ç-–∫–æ–¥–∞-–∫-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ" tabindex="-1"><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã: –æ—Ç –∫–æ–¥–∞ –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ</strong> <a class="header-anchor" href="#–ø—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-–æ—Ç-–∫–æ–¥–∞-–∫-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ" aria-label="Permalink to &quot;**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã: –æ—Ç –∫–æ–¥–∞ –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ**&quot;">‚Äã</a></h3><p>–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã Terraform –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —ç—Ç–∞–ø–æ–≤:</p><ol><li><p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)</strong> –í—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ –∂–µ–ª–∞–µ–º—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (—Å–µ—Ä–≤–µ—Ä—ã, —Å–µ—Ç–∏, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Ç.–¥.) –≤ –≤–∏–¥–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤. –≠—Ç–∏ —Ñ–∞–π–ª—ã, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —è–∑—ã–∫–µ <strong>HashiCorp Configuration Language (HCL)</strong> (–∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫–æ–º, —Ç–∞–∫ –∏ –º–∞—à–∏–Ω–æ–π), –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è Terraform-–∫–æ–¥–æ–º. –í –Ω–∏—Ö –≤—ã –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç–µ, <em>–∫–∞–∫–∏–µ</em> —Ä–µ—Å—É—Ä—Å—ã –Ω—É–∂–Ω—ã, –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏.</p></li><li><p><strong>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (<code>terraform plan</code>)</strong> –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã <code>terraform plan</code> Terraform –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—É—é —Ä–∞–±–æ—Ç—É:</p><ul><li><strong>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç</strong> –≤–∞—à –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª.</li><li><strong>–°—á–∏—Ç—ã–≤–∞–µ—Ç</strong> –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (<code>terraform.tfstate</code>).</li><li><strong>–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç</strong> –∂–µ–ª–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å —Ç–µ–∫—É—â–∏–º.</li><li><strong>–§–æ—Ä–º–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è</strong> ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ç–æ–º, –∫–∞–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã, –∏–∑–º–µ–Ω–µ–Ω—ã –∏–ª–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–æ–¥–æ–º. –≠—Ç–æ—Ç –ø–ª–∞–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º.</li></ul></li><li><p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (<code>terraform apply</code>)</strong> –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ <code>terraform apply</code> –ø—Ä–∏–≤–æ–¥–∏—Ç –µ–≥–æ –≤ –¥–µ–π—Å—Ç–≤–∏–µ. Terraform —á–µ—Ä–µ–∑ <strong>–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤</strong> (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è AWS, Azure, GCP, Yandex Cloud –∏ —Å–æ—Ç–µ–Ω –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤) –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å API –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, —É—á–∏—Ç—ã–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ä–µ—Å—É—Ä—Å–∞–º–∏.</p></li><li><p><strong>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong> –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π Terraform –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è (<code>terraform.tfstate</code>). –≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã –æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–æ–∑–≤–æ–ª—è—è Terraform –ø–æ–Ω–∏–º–∞—Ç—å, —á–µ–º –æ–Ω–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç.</p></li></ol><p>–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—ã –ø—Ä–æ—Å—Ç–æ –ø—Ä–∞–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ <code>plan</code> –∏ <code>apply</code>. Terraform –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Ä–∞–∑–Ω–∏—Ü—É –∏ –≤–Ω–µ—Å–µ—Ç —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.</p><hr><h3 id="–∫–ª—é—á–µ–≤—ã–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-terraform" tabindex="-1"><strong>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Terraform</strong> <a class="header-anchor" href="#–∫–ª—é—á–µ–≤—ã–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-terraform" aria-label="Permalink to &quot;**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Terraform**&quot;">‚Äã</a></h3><ul><li><p><strong>üë®‚Äçüíª –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥ (IaC)</strong> –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ü–û: –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π (Git), –∫–æ–¥-—Ä–µ–≤—å—é, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.</p></li><li><p><strong>‚òÅÔ∏è –ú—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å</strong> –ï–¥–∏–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π across —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (AWS, Azure, GCP, Yandex Cloud), SaaS-—Å–µ—Ä–≤–∏—Å–æ–≤ (GitHub, Datadog) –∏ –¥–∞–∂–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º (vSphere, Kubernetes). –≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑—É—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.</p></li><li><p><strong>üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å</strong> –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏, —Ç–∞–∫ –∏ —Ç—ã—Å—è—á–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –∫—Ä—É–ø–Ω—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–∞–∂–¥–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É, —É—Å—Ç—Ä–∞–Ω—è—è –¥—Ä–µ–π—Ñ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –æ—à–∏–±–∫–∏ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.</p></li><li><p><strong>üîÑ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</strong> Terraform –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ –∫–æ–¥–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –µ–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ö–æ–º–∞–Ω–¥–∞ <code>plan</code> –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç <em>—á—Ç–æ –∏–º–µ–Ω–Ω–æ</em> –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–æ <em>–¥–æ</em> –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–∏.</p></li><li><p><strong>üß© –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</strong> Terraform –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ —Å–æ–±–ª—é–¥–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö —è–≤–Ω—ã—Ö –∏ –Ω–µ—è–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥—Å–µ—Ç—å –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∏, –∞ –∏–Ω—Å—Ç–∞–Ω—Å ‚Äî –¥–æ –ø–æ–¥—Å–µ—Ç–∏.</p></li><li><p><strong>üë• –ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏—è –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å</strong> –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ Git, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ. Terraform –∏–º–µ–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º, –∫–æ—Ç–æ—Ä–æ–µ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π.</p></li><li><p><strong>üöÄ –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è</strong> –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞ –º–∏–Ω—É—Ç—ã, –∞ –Ω–µ –¥–Ω–∏, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ü–∏–∫–ª—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤—ã–≤–æ–¥ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞ —Ä—ã–Ω–æ–∫.</p></li><li><p><strong>üíæ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å</strong> –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –∫–æ–¥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –ª–µ–≥–∫–æ –≤–æ—Å—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é —Å—Ä–µ–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è.</p></li><li><p><strong>üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏</strong> Terraform –º–æ–∂–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ Ansible, Chef –∏ Puppet.</p><p><a href="https://mirror.selectel.ru/3rd-party/hashicorp-releases/terraform/1.13.1/terraform_1.13.1_linux_amd64.zip" target="_blank" rel="noreferrer">https://mirror.selectel.ru/3rd-party/hashicorp-releases/terraform/1.13.1/terraform_1.13.1_linux_amd64.zip</a></p></li></ul><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>–ö–ª–∞—Å—Å–Ω–æ –∫–ª–∞—Å—Å–Ω–æ, –Ω–æ —Ç–µ—Ä—Ä–∞—Ñ–æ—Ä–º —É—à–µ–ª –∏–∑ –†–æ—Å—Å–∏–∏ –∏ –≤—Å—ë –∑–∞–±–ª–æ—á–∏–ª <a href="https://habr.com/ru/articles/807563/" target="_blank" rel="noreferrer">https://habr.com/ru/articles/807563/</a></p><p>–ö–∞–∫ –ø–æ –º–Ω–µ, –Ω—É–∂–Ω–æ –ø–æ–¥–Ω–∏–º–∞—Ç—å —Å–≤–æ—ë –∑–µ—Ä–∫–∞–ª–æ, —á—Ç–æ–±—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç –¥—Ä—É–≥–∏—Ö: <a href="https://developer.hashicorp.com/terraform/internals/provider-network-mirror-protocol" target="_blank" rel="noreferrer">https://developer.hashicorp.com/terraform/internals/provider-network-mirror-protocol</a></p><p><a href="https://github.com/hashicorp" target="_blank" rel="noreferrer">https://github.com/hashicorp</a></p><p>–ù–∏–∂–µ —è –≤—ã–ø–∏—Å–∞–ª –∏–Ω—Ñ—É –ø–æ —Å–±–æ—Ä–∫–µ –¥–≤—É—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Docker –∏ —Ö–∑ —á–µ–π Proxmox. –¢–∞–º —Ç–∏–ø–∞ –Ω–∏—á–µ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ –Ω–µ—Ç</p></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>## Docker</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ —Å –∏–º–µ–Ω–µ–º learn-terraform-docker-container.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ mkdir learn-terraform-docker-container</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ cd learn-terraform-docker-container</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ touch main.tf</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–û—Ç–∫—Ä–æ–π—Ç–µ main.tf—Ñ–∞–π–ª –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ, –≤—Å—Ç–∞–≤—å—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—É—é –Ω–∏–∂–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ.</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Mac –∏–ª–∏ Linux</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–û–∫–Ω–∞</span></span>
<span class="line"><span>terraform {</span></span>
<span class="line"><span>  required_providers {</span></span>
<span class="line"><span>    docker = {</span></span>
<span class="line"><span>      source = &quot;kreuzwerker/docker&quot;</span></span>
<span class="line"><span>      version = &quot;~&gt; 3.0.1&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>provider &quot;docker&quot; {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>resource &quot;docker_image&quot; &quot;nginx&quot; {</span></span>
<span class="line"><span>  name         = &quot;nginx:latest&quot;</span></span>
<span class="line"><span>  keep_locally = false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>resource &quot;docker_container&quot; &quot;nginx&quot; {</span></span>
<span class="line"><span>  image = docker_image.nginx.image_id</span></span>
<span class="line"><span>  name  = &quot;tutorial&quot;</span></span>
<span class="line"><span>  ports {</span></span>
<span class="line"><span>    internal = 80</span></span>
<span class="line"><span>    external = 8000</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</span></span>
<span class="line"><span>–ù–∞–±–æ—Ä —Ñ–∞–π–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ Terraform, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π Terraform .</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ö–∞–∂–¥–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Terraform –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–∞–±–æ—á–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ. –í—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–Ω–µ–µ –≤ learn-terraform-docker-container. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ main.tf—Ñ–∞–π–ª.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–≠—Ç–æ –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å –ø–æ–º–æ—â—å—é Terraform. –í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –≤—ã –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –∏–∑—É—á–∏—Ç–µ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ —Ä–∞–Ω–µ–µ.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–¢–µ—Ä—Ä–∞—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –±–ª–æ–∫</span></span>
<span class="line"><span>–≠—Ç–æ—Ç terraform {}–±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Terraform, –≤–∫–ª—é—á–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö Terraform –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ source–∞—Ç—Ä–∏–±—É—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞, –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω –∏ —Ç–∏–ø –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. Terraform –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ Terraform . –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ docker–∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∫–∞–∫ kreuzwerker/docker, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º –æ—Ç registry.terraform.io/kreuzwerker/docker.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤ required_providers–±–ª–æ–∫–µ. –≠—Ç–æ—Ç version–∞—Ç—Ä–∏–±—É—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –Ω–æ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, —á—Ç–æ–±—ã Terraform –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª –≤–µ—Ä—Å–∏—é, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π. –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, Terraform –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ .</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏</span></span>
<span class="line"><span>–ë–ª–æ–∫ provider–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ docker. –ü—Ä–æ–≤–∞–π–¥–µ—Ä ‚Äî —ç—Ç–æ –ø–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π Terraform –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Terraform –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. –í—ã –¥–∞–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—Ä–∞–∑–∞ Docker –≤ —Å–ª—É–∂–±—É Kubernetes.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–†–µ—Å—É—Ä—Å—ã</span></span>
<span class="line"><span>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ resource–±–ª–æ–∫–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –†–µ—Å—É—Ä—Å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º, –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ä–µ—Å—É—Ä—Å–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º Heroku.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ë–ª–æ–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–æ–º: —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–∞ –∏ –∏–º—è —Ä–µ—Å—É—Ä—Å–∞. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–µ—Ä–≤—ã–π —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–∞ ‚Äî docker_image, –∞ –∏–º—è ‚Äî nginx. –ü—Ä–µ—Ñ–∏–∫—Å —Ç–∏–ø–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–º–µ–Ω–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Terraform —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–º docker_image—Å –ø–æ–º–æ—â—å—é docker–ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. –í–º–µ—Å—Ç–µ —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–∞ –∏ –∏–º—è —Ä–µ—Å—É—Ä—Å–∞ –æ–±—Ä–∞–∑—É—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–µ—Å—É—Ä—Å–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞ Docker ‚Äî docker_image.nginx.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ë–ª–æ–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–∞. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è —Ç–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –∫–∞–∫ —Ä–∞–∑–º–µ—Ä—ã –º–∞—à–∏–Ω—ã, –∏–º–µ–Ω–∞ –æ–±—Ä–∞–∑–æ–≤ –¥–∏—Å–∫–æ–≤ –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã VPC. –ù–∞—à–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞. –í –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ–±—Ä–∞–∑ Docker —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –æ–±—Ä–∞–∑–∞ –¥–ª—è –≤–∞—à–µ–≥–æ docker_container—Ä–µ—Å—É—Ä—Å–∞.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥</span></span>
<span class="line"><span>–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Å –ø–æ–º–æ—â—å—é terraform init.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ docker–ø–æ—Å—Ç–∞–≤—â–∏–∫.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ï—Å–ª–∏ –≤—ã –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —à–∞–≥–∏ –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ —Å–µ–π—á–∞—Å.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ terraform init</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Initializing the backend...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Initializing provider plugins...</span></span>
<span class="line"><span>- Finding kreuzwerker/docker versions matching &quot;~&gt; 3.0.1&quot;...</span></span>
<span class="line"><span>- Installing kreuzwerker/docker v3.0.1...</span></span>
<span class="line"><span>- Installed kreuzwerker/docker v3.0.1 (self-signed, key ID BD080C4571C6104C)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Partner and community providers are signed by their developers.</span></span>
<span class="line"><span>If you&#39;d like to know more about provider signing, you can read about it here:</span></span>
<span class="line"><span>https://www.terraform.io/docs/cli/plugins/signing.html</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Terraform has created a lock file .terraform.lock.hcl to record the provider</span></span>
<span class="line"><span>selections it made above. Include this file in your version control repository</span></span>
<span class="line"><span>so that Terraform can guarantee to make the same selections by default when</span></span>
<span class="line"><span>you run &quot;terraform init&quot; in the future.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Terraform has been successfully initialized!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>You may now begin working with Terraform. Try running &quot;terraform plan&quot; to see</span></span>
<span class="line"><span>any changes that are required for your infrastructure. All Terraform commands</span></span>
<span class="line"><span>should now work.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>If you ever set or change modules or backend configuration for Terraform,</span></span>
<span class="line"><span>rerun this command to reinitialize your working directory. If you forget, other</span></span>
<span class="line"><span>commands will detect it and remind you to do so if necessary.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Terraform –∑–∞–≥—Ä—É–∂–∞–µ—Ç docker–ø—Ä–æ–≤–∞–π–¥–µ—Ä –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –≤ —Å–∫—Ä—ã—Ç—ã–π –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å –∏–º–µ–Ω–µ–º .terraform. terraform init–ö–æ–º–∞–Ω–¥–∞ –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. Terraform —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å –∏–º–µ–Ω–µ–º , –≤ .terraform.lock.hcl–∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã —Ç–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</span></span>
<span class="line"><span>–ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö –≤–∞—à–∏—Ö —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –≠—Ç–∞ terraform fmt–∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. Terraform –≤—ã–≤–µ–¥–µ—Ç –∏–º–µ–Ω–∞ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –∏–º–µ—é—Ç—Å—è. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤–∞—à —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∂–µ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω, –ø–æ—ç—Ç–æ–º—É Terraform –Ω–µ –≤–µ—Ä–Ω—ë—Ç –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ terraform fmt</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –Ω–µ–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤–∞, –∏—Å–ø–æ–ª—å–∑—É—è terraform validate–∫–æ–º–∞–Ω–¥—É.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –ü—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–π –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –ø–æ—ç—Ç–æ–º—É Terraform –≤–µ—Ä–Ω—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ terraform validate</span></span>
<span class="line"><span>Success! The configuration is valid.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É</span></span>
<span class="line"><span>–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ–π—á–∞—Å —Å –ø–æ–º–æ—â—å—é terraform apply–∫–æ–º–∞–Ω–¥—ã. Terraform –≤—ã–≤–µ–¥–µ—Ç –≤—ã–≤–æ–¥, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–∫–∞–∑–∞–Ω–Ω–æ–º—É –Ω–∏–∂–µ. –ú—ã –æ–±—Ä–µ–∑–∞–ª–∏ —á–∞—Å—Ç—å –≤—ã–≤–æ–¥–∞ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ terraform apply</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Terraform used the selected providers to generate the following execution plan.</span></span>
<span class="line"><span>Resource actions are indicated with the following symbols:</span></span>
<span class="line"><span>  + create</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Terraform will perform the following actions:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  # docker_container.nginx will be created</span></span>
<span class="line"><span>  + resource &quot;docker_container&quot; &quot;nginx&quot; {</span></span>
<span class="line"><span>##...</span></span>
<span class="line"><span>      + ports {</span></span>
<span class="line"><span>          + external = 8000</span></span>
<span class="line"><span>          + internal = 80</span></span>
<span class="line"><span>          + ip       = &quot;0.0.0.0&quot;</span></span>
<span class="line"><span>          + protocol = &quot;tcp&quot;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  # docker_image.nginx will be created</span></span>
<span class="line"><span>  + resource &quot;docker_image&quot; &quot;nginx&quot; {</span></span>
<span class="line"><span>      + id           = (known after apply)</span></span>
<span class="line"><span>      + keep_locally = false</span></span>
<span class="line"><span>      + latest       = (known after apply)</span></span>
<span class="line"><span>      + name         = &quot;nginx:latest&quot;</span></span>
<span class="line"><span>      + output       = (known after apply)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Plan: 2 to add, 0 to change, 0 to destroy.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, Terraform —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è , –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ Terraform –ø—Ä–µ–¥–ø—Ä–∏–º–µ—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ö–æ–∂ –Ω–∞ —Ñ–æ—Ä–º–∞—Ç diff, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π —Ç–∞–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –∫–∞–∫ Git. –†—è–¥–æ–º —Å –≤—ã—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –µ—Å—Ç—å +, docker_container.nginx—á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Terraform —Å–æ–∑–¥–∞—Å—Ç —ç—Ç–æ—Ç —Ä–µ—Å—É—Ä—Å. –ü–æ–¥ –Ω–∏–º –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∞—Ç—Ä–∏–±—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –ï—Å–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ (known after apply), —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω–æ –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, Docker –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑–∞–º —Å–ª—É—á–∞–π–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–∏, –ø–æ—ç—Ç–æ–º—É Terraform –Ω–µ –º–æ–∂–µ—Ç —É–∑–Ω–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞, id–ø–æ–∫–∞ –≤—ã –Ω–µ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫ Docker –Ω–µ –≤–µ—Ä–Ω–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Terraform –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ä–∞–±–æ—Ç—É –∏ –¥–æ–∂–¥—ë—Ç—Å—è –≤–∞—à–µ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –≤ –ø–ª–∞–Ω–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è –≤–∞–º –Ω–µ–≤–µ—Ä–Ω—ã–º –∏–ª–∏ –æ–ø–∞—Å–Ω—ã–º, –≤—ã –º–æ–∂–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –µ–≥–æ, –Ω–µ –≤–Ω–æ—Å—è –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –≤–∞—à—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø–ª–∞–Ω –ø—Ä–∏–µ–º–ª–µ–º, –ø–æ—ç—Ç–æ–º—É –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç yes–≤ –ø–æ–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Enter a value: yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span>docker_image.nginx: Creating...</span></span>
<span class="line"><span>docker_image.nginx: Still creating... [10s elapsed]</span></span>
<span class="line"><span>docker_image.nginx: Creation complete after 13s [id=sha256:d1a364dc548d5357f0da3268c888e1971bbdb957ee3f028fe7194f1d61c6fdeenginx:latest]</span></span>
<span class="line"><span>docker_container.nginx: Creating...</span></span>
<span class="line"><span>docker_container.nginx: Creation complete after 2s [id=2834ad6283372ceb61121739ce71d31cb0237ad50f4dc234e3445c9445439181]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Apply complete! Resources: 2 added, 0 changed, 0 destroyed.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–í—ã —Å–æ–∑–¥–∞–ª–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –ø–æ–º–æ—â—å—é Terraform! –ó–∞–π–¥–∏—Ç–µ localhost:8000–≤ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ</span></span>
<span class="line"><span>–ö–æ–≥–¥–∞ –≤—ã –ø—Ä–∏–º–µ–Ω–∏–ª–∏ —Å–≤–æ—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, Terraform –∑–∞–ø–∏—Å–∞–ª –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º terraform.tfstate. –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ Terraform —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç, —á—Ç–æ–±—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–§–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è Terraform ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è Terraform –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –æ–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç. –û–Ω —á–∞—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –ø–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º —á–ª–µ–Ω–∞–º –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π. –í —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω–æ —Å –ø–æ–º–æ—â—å—é HCP Terraform –∏–ª–∏ Terraform Enterprise. Terraform —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –±—ç–∫–µ–Ω–¥–æ–≤ , –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é terraform show.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ terraform show</span></span>
<span class="line"><span># docker_container.nginx:</span></span>
<span class="line"><span>resource &quot;docker_container&quot; &quot;nginx&quot; {</span></span>
<span class="line"><span>    attach            = false</span></span>
<span class="line"><span>    command           = [</span></span>
<span class="line"><span>        &quot;nginx&quot;,</span></span>
<span class="line"><span>        &quot;-g&quot;,</span></span>
<span class="line"><span>        &quot;daemon off;&quot;,</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>    cpu_shares        = 0</span></span>
<span class="line"><span>    entrypoint        = [</span></span>
<span class="line"><span>        &quot;/docker-entrypoint.sh&quot;,</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>    env               = []</span></span>
<span class="line"><span>    gateway           = &quot;172.17.0.1&quot;</span></span>
<span class="line"><span>    hostname          = &quot;2834ad628337&quot;</span></span>
<span class="line"><span>    id                = &quot;2834ad6283372ceb61121739ce71d31cb0237ad50f4dc234e3445c9445439181&quot;</span></span>
<span class="line"><span>    image             = &quot;sha256:d1a364dc548d5357f0da3268c888e1971bbdb957ee3f028fe7194f1d61c6fdee&quot;</span></span>
<span class="line"><span>    init              = false</span></span>
<span class="line"><span>    ip_address        = &quot;172.17.0.2&quot;</span></span>
<span class="line"><span>    ip_prefix_length  = 16</span></span>
<span class="line"><span>    ipc_mode          = &quot;private&quot;</span></span>
<span class="line"><span>    log_driver        = &quot;json-file&quot;</span></span>
<span class="line"><span>    logs              = false</span></span>
<span class="line"><span>    max_retry_count   = 0</span></span>
<span class="line"><span>    memory            = 0</span></span>
<span class="line"><span>    memory_swap       = 0</span></span>
<span class="line"><span>    must_run          = true</span></span>
<span class="line"><span>    name              = &quot;tutorial&quot;</span></span>
<span class="line"><span>    network_data      = [</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            gateway                   = &quot;172.17.0.1&quot;</span></span>
<span class="line"><span>            global_ipv6_address       = &quot;&quot;</span></span>
<span class="line"><span>            global_ipv6_prefix_length = 0</span></span>
<span class="line"><span>            ip_address                = &quot;172.17.0.2&quot;</span></span>
<span class="line"><span>            ip_prefix_length          = 16</span></span>
<span class="line"><span>            ipv6_gateway              = &quot;&quot;</span></span>
<span class="line"><span>            network_name              = &quot;bridge&quot;</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>    network_mode      = &quot;default&quot;</span></span>
<span class="line"><span>    privileged        = false</span></span>
<span class="line"><span>    publish_all_ports = false</span></span>
<span class="line"><span>    read_only         = false</span></span>
<span class="line"><span>    remove_volumes    = true</span></span>
<span class="line"><span>    restart           = &quot;no&quot;</span></span>
<span class="line"><span>    rm                = false</span></span>
<span class="line"><span>    security_opts     = []</span></span>
<span class="line"><span>    shm_size          = 64</span></span>
<span class="line"><span>    start             = true</span></span>
<span class="line"><span>    stdin_open        = false</span></span>
<span class="line"><span>    tty               = false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ports {</span></span>
<span class="line"><span>        external = 8000</span></span>
<span class="line"><span>        internal = 80</span></span>
<span class="line"><span>        ip       = &quot;0.0.0.0&quot;</span></span>
<span class="line"><span>        protocol = &quot;tcp&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker_image.nginx:</span></span>
<span class="line"><span>resource &quot;docker_image&quot; &quot;nginx&quot; {</span></span>
<span class="line"><span>    id           = &quot;sha256:d1a364dc548d5357f0da3268c888e1971bbdb957ee3f028fe7194f1d61c6fdeenginx:latest&quot;</span></span>
<span class="line"><span>    keep_locally = false</span></span>
<span class="line"><span>    latest       = &quot;sha256:d1a364dc548d5357f0da3268c888e1971bbdb957ee3f028fe7194f1d61c6fdee&quot;</span></span>
<span class="line"><span>    name         = &quot;nginx:latest&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Terraform —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏–ª –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å–∞ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ Docker –∏ –∑–∞–ø–∏—Å–∞–ª –∏—Ö –≤ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ü–æ–∑–∂–µ –≤—ã –∏–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</span></span>
<span class="line"><span>–í Terraform –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ terraform state–¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É list–ø–æ–¥–∫–æ–º–∞–Ω–¥—É –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ terraform state list</span></span>
<span class="line"><span>docker_container.nginx</span></span>
<span class="line"><span>docker_image.nginx</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span># Installation</span></span>
<span class="line"><span></span></span>
<span class="line"><span>This document describes how to install the Terraform provider.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Automatic Registry Installation</span></span>
<span class="line"><span></span></span>
<span class="line"><span>To install this provider, copy and paste this code into your Terraform configuration (include a version tag).</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\`hcl</span></span>
<span class="line"><span>terraform {</span></span>
<span class="line"><span>  required_providers {</span></span>
<span class="line"><span>    proxmox = {</span></span>
<span class="line"><span>      source  = &quot;telmate/proxmox&quot;</span></span>
<span class="line"><span>      version = &quot;&lt;version tag&gt;&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>provider &quot;proxmox&quot; {</span></span>
<span class="line"><span>  # Configuration options</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Then, run</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><h2 id="manual-build-install" tabindex="-1">Manual Build &amp; Install <a class="header-anchor" href="#manual-build-install" aria-label="Permalink to &quot;Manual Build &amp; Install&quot;">‚Äã</a></h2><h3 id="how-to-get-terraform-to-recognize-third-party-provider" tabindex="-1">How to get terraform to recognize third party provider <a class="header-anchor" href="#how-to-get-terraform-to-recognize-third-party-provider" aria-label="Permalink to &quot;How to get terraform to recognize third party provider&quot;">‚Äã</a></h3><p>Third-party plugins can be manually installed into the user plugins directory, located at <code>%APPDATA%\\terraform.d\\plugins</code> on Windows and <code>~/.terraform.d/plugins</code> on other systems. Plugins come with executables that have to be placed in the plugin directory.</p><h3 id="compile-the-executables-with-go" tabindex="-1">Compile the executables with Go <a class="header-anchor" href="#compile-the-executables-with-go" aria-label="Permalink to &quot;Compile the executables with Go&quot;">‚Äã</a></h3><p>First, clone this repo and cd into the repo&#39;s root.</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/Telmate/terraform-provider-proxmox</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terraform-provider-proxmox</span></span></code></pre></div><p>In order to build the required executables, <a href="https://golang.org/doc/install" target="_blank" rel="noreferrer">install Go</a> first. If you want an automated way to do it, look at go.yml in the root of this repo.</p><p>Then to compile the provider:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span></code></pre></div><p>The executable will be in the <code>./bin</code> directory.</p><h3 id="copy-executables-to-plugin-directory-terraform-0-13" tabindex="-1">Copy executables to plugin directory (Terraform &gt;=0.13) <a class="header-anchor" href="#copy-executables-to-plugin-directory-terraform-0-13" aria-label="Permalink to &quot;Copy executables to plugin directory (Terraform &gt;=0.13)&quot;">‚Äã</a></h3><p>As of Terraform v0.13, locally-installed, third-party plugins must <a href="https://github.com/hashicorp/terraform/blob/guide-v0.13-beta/draft-upgrade-guide.md#new-filesystem-layout-for-local-copies-of-providers" target="_blank" rel="noreferrer">conform to a new filesystem layout</a>.</p><blockquote><p>Terraform assumes that a provider without an explicit source address belongs to the &quot;hashicorp&quot; namespace on registry.terraform.io, which is not true for your in-house provider. Instead, you can use any domain name under your control to establish a virtual source registry to serve as a separate namespace for your local use.</p></blockquote><p>Use the format: [host.domain]/telmate/proxmox/[version]/[arch].</p><p>In our case, we will use <code>registry.example.com</code> as our virtual source registry in the following examples.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Uncomment for macOS</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PLUGIN_ARCH=darwin_amd64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PLUGIN_ARCH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">linux_amd64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Create the directory holding the newly built Terraform plugins</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.terraform.d/plugins/registry.example.com/telmate/proxmox/1.0.0/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${PLUGIN_ARCH}</span></span></code></pre></div><p>Then, copy the executables to the directory you just created. You could also use the <code>make local-dev-install</code> target. It&#39;s important to note that you aren&#39;t required to use a semver, and if you don&#39;t, then the path must be altered accordingly.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bin/terraform-provider-proxmox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.terraform.d/plugins/registry.example.com/telmate/proxmox/1.0.0/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${PLUGIN_ARCH}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -al</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.terraform.d/plugins/registry.example.com/telmate/proxmox/1.0.0/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${PLUGIN_ARCH}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwxr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20352759</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 21:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terraform-provider-proxmox_v1.0.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre></div><p>Add the source to your project&#39;s <code>main.tf</code> like so:</p><div class="language-hcl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hcl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  required_providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxmox</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      source  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;telmate/proxmox&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&gt;=1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  required_version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&gt;= 0.14&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># omitted for brevity</span></span></code></pre></div><h2 id="initialize-terraform" tabindex="-1">Initialize Terraform <a class="header-anchor" href="#initialize-terraform" aria-label="Permalink to &quot;Initialize Terraform&quot;">‚Äã</a></h2><p>Initialize Terraform so that it installs the new plugins:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p>You should see the following marking the successful plugin installation:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[...]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Initializing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provider</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugins...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Finding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry.example.com/telmate/proxmox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versions</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> matching</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&gt;= 1.0.0&quot;...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Installing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry.example.com/telmate/proxmox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.0.0...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Installed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry.example.com/telmate/proxmox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (unauthenticated)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Terraform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> has</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> been</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> initialized!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[...]</span></span></code></pre></div><p>Now that the plugin is installed, you can simply create a new terraform directory and do usual terraforming.</p><h1 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">‚Äã</a></h1><h2 id="building-the-provider" tabindex="-1">Building The Provider <a class="header-anchor" href="#building-the-provider" aria-label="Permalink to &quot;Building The Provider&quot;">‚Äã</a></h2><p>Clone repository to: <code>$GOPATH/src/github.com/terraform-providers/terraform-provider-docker</code></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $GOPATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/src/github.com/terraform-providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $GOPATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/src/github.com/terraform-providers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:terraform-providers/terraform-provider-docker</span></span></code></pre></div><p>Enter the provider directory and build the provider</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $GOPATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/src/github.com/terraform-providers/terraform-provider-docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h2 id="using-the-provider" tabindex="-1">Using the provider <a class="header-anchor" href="#using-the-provider" aria-label="Permalink to &quot;Using the provider&quot;">‚Äã</a></h2><h2 id="fill-in-for-each-provider" tabindex="-1">Fill in for each provider <a class="header-anchor" href="#fill-in-for-each-provider" aria-label="Permalink to &quot;Fill in for each provider&quot;">‚Äã</a></h2><h2 id="developing-the-provider" tabindex="-1">Developing the Provider <a class="header-anchor" href="#developing-the-provider" aria-label="Permalink to &quot;Developing the Provider&quot;">‚Äã</a></h2><p>If you wish to work on the provider, you&#39;ll first need the latest version of <a href="http://www.golang.org" target="_blank" rel="noreferrer">Go</a> installed on your machine (currently 1.15). You&#39;ll also need to correctly setup a <a href="http://golang.org/doc/code.html#GOPATH" target="_blank" rel="noreferrer">GOPATH</a>, as well as adding <code>$GOPATH/bin</code> to your <code>$PATH</code> (note that we typically test older versions of golang as long as they are supported upstream, though we recommend new development to happen on the latest release).</p><p>To compile the provider, run <code>make build</code>. This will build the provider and put the provider binary in the <code>$GOPATH/bin</code> directory.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $GOPATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/bin/terraform-provider-docker</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span></code></pre></div><p>In order to test the provider, you can simply run <code>make test</code>.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><p>In order to run the full suite of Acceptance tests, run <code>make testacc</code>.</p><p><em>Note:</em> Acceptance tests create a local registry which will be deleted afterwards.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testacc</span></span></code></pre></div><p>In order to run only single Acceptance tests, execute the following steps:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># setup the testing environment</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testacc_setup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># run single tests</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TF_LOG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TF_ACC</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ^TestAccDockerImage_data_private_config_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-timeout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 360s</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cleanup the local testing resources</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testacc_cleanup</span></span></code></pre></div><p>In order to extend the provider and test it with <code>terraform</code>, build the provider as mentioned above with</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or a specific version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terraform-provider-docker_v1.2.0_x4</span></span></code></pre></div><p>Remove an explicit version of the provider you develop, because <code>terraform</code> will fetch the locally built one in <code>$GOPATH/bin</code></p><div class="language-hcl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hcl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">provider</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;docker&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # version = &quot;~&gt; 0.1.2&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Don&#39;t forget to run <code>terraform init</code> each time you rebuild the provider. Check <a href="https://www.youtube.com/watch?v=TMmovxyo5sY&amp;t=30m14s" target="_blank" rel="noreferrer">here</a> for a more detailed explanation.</p><p>You can check the latest released version of a provider at <a href="https://releases.hashicorp.com/terraform-provider-docker/" target="_blank" rel="noreferrer">https://releases.hashicorp.com/terraform-provider-docker/</a>.</p><h2 id="developing-on-windows" tabindex="-1">Developing on Windows <a class="header-anchor" href="#developing-on-windows" aria-label="Permalink to &quot;Developing on Windows&quot;">‚Äã</a></h2><p>You can build and test on Widows without <code>make</code>. Run <code>go install</code> to build and <code>Scripts\\runAccTests.bat</code> to run the test suite.</p><p>Continuous integration for Windows is not available at the moment due to lack of a CI provider that is free for open source projects <em>and</em> supports running Linux containers in Docker for Windows. For example, AppVeyor is free for open source projects and provides Docker on its Windows builds, but only offers Linux containers on Windows as a paid upgrade.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span></code></pre></div>`,73)]))}const g=a(i,[["render",l]]);export{k as __pageData,g as default};
