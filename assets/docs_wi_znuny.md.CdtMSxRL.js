import{_ as a,c as i,o as t,ag as e}from"./chunks/framework.D4Vqf8I7.js";const c=JSON.parse('{"title":"Znuny OTRS версии 6.0.38","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"docs/wi/znuny.md","filePath":"docs/wi/znuny.md","lastUpdated":1759319602000}'),p={name:"docs/wi/znuny.md"};function h(n,s,l,d,o,k){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="znuny-otrs-версии-6-0-38" tabindex="-1">Znuny OTRS версии 6.0.38 <a class="header-anchor" href="#znuny-otrs-версии-6-0-38" aria-label="Permalink to &quot;Znuny OTRS версии 6.0.38&quot;">​</a></h1><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQI9GtlRHpJFeL7O0fru05DIoQO-X3RgmLH_5uOCxGEiuhqkfsk4a-OZWotc_3YH1rRfhk&amp;usqp=CAU" alt=""></p><h2 id="установка" tabindex="-1">Установка <a class="header-anchor" href="#установка" aria-label="Permalink to &quot;Установка&quot;">​</a></h2><p>Для работы системы необходима база данных и веб-сервер, в примере используется PostgreSQL и Apache. Все команды необходимо выполнять с правами администратора системы.</p><p>Устанавливаем необходимые пакеты:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgresql17-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-DBD-Pg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> otrs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> otrs-apache2</span></span></code></pre></div><h3 id="настроика-postgresql" tabindex="-1">Настройка PostgreSQL <a class="header-anchor" href="#настроика-postgresql" aria-label="Permalink to &quot;Настройка PostgreSQL&quot;">​</a></h3><p>Создание конфигурационных файлов PostgreSQL и создание пароля администратора:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/etc/init.d/postgresql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> initdb</span></span></code></pre></div><p>Запуск сервиса postgresql:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgresql</span></span></code></pre></div><h3 id="настроика-apache2" tabindex="-1">Настройка Apache2 <a class="header-anchor" href="#настроика-apache2" aria-label="Permalink to &quot;Настройка Apache2&quot;">​</a></h3><p>Включаем использование каталога с расширениями для apache2:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enextra</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> httpd-addon.d</span></span></code></pre></div><p>Кроме того, в пакете apache2 присутствует <code>010-httpd-addon.d.conf</code>, содержащий <code>httpd-addon.d=no</code>, что приводит к отключению httpd-addon.d при запуске <code>a2chkconfig</code>. Следует переопределить это значение, например, так:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> httpd-addon.d=yes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/httpd2/conf/extra-start.d/999-otrs.conf</span></span></code></pre></div><p>Не беда, если следующие шаги вы выполнять не будете. Далее все эти моменты можно отследить на страницу &quot;Admin Support Data Collector (Сбор данных для поддержки)&quot; на странице Администрирования.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Вообще, эта заррраза ругается на всякую фигню: ой ой, у тебя не установлен модуль перл для Оракл БД и МС БД, вот жешь ты плохой. У тебя не установлена поддержка китайских символов. Ну ты и хад! Ну и т.д.</p><p>Да, плюсом там руготня про оптимизацию.</p><p>Так что ниже будут все доп моменты чтобы убрать все ошибки. КРОМЕ ОДНОЙ: Знуни не может определить Линукс - Он не знает про Альт(</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>На текущий момент мне осталось решить проблоемы с:</p><ul><li>Размер подкачки более 200МВ - Ну тут надо при установке ОС делать раздел всего на 200МВ</li><li>Теоретически должен быть пакет Аля perl-DBD-Oracle, но у альта его нет</li></ul></div><p>Устанавливаем дополнительные компоненты:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-CSS-Minifier-XS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-Pg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-JavaScript-Minifier-XS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-NTLM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-DBD-ODBC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-ldap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-Crypt-Random-Source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> perl-Encode-HanExtra</span></span></code></pre></div><p>Активируем модули apache2:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deflate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> headers</span></span></code></pre></div><p>Установка prefork MPM</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2-httpd-prefork</span></span></code></pre></div><p>Удаление worker MPM</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2-httpd-worker</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Проверка:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apachectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -V</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mpm</span></span></code></pre></div></div><p>Запускаем демон веб-сервера и устанавливаем его на автозапуск:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> httpd2</span></span></code></pre></div><h3 id="первоначальные-настроики" tabindex="-1">Первоначальные настройки <a class="header-anchor" href="#первоначальные-настроики" aria-label="Permalink to &quot;Первоначальные настройки&quot;">​</a></h3><p>Открываем браузер, в адресную строку вводим <code>http://ip_вашего_сервера/otrs/installer.pl</code>, следуем инструкциям для инсталляции.</p><p>После входа будет видна ошибка, что демон Cron не запущен. Запуск Cron:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/var/www/webapps/otrs/bin/Cron.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> otrs</span></span></code></pre></div><h2 id="клиенты" tabindex="-1">Клиенты <a class="header-anchor" href="#клиенты" aria-label="Permalink to &quot;Клиенты&quot;">​</a></h2><p>Ссылка для клиентов: <code>http://ip_вашего_сервера/otrs/customer.pl</code></p>`,36)]))}const g=a(p,[["render",h]]);export{c as __pageData,g as default};
