import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.D4Vqf8I7.js";const g=JSON.parse('{"title":"–†—ã–±–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ç–µ–Ω–¥–æ–≤","description":"","frontmatter":{},"headers":[],"relativePath":"docs/disciplines/osis/p7.md","filePath":"docs/disciplines/osis/p7.md","lastUpdated":1760436828000}'),t={name:"docs/disciplines/osis/p7.md"};function h(p,s,e,k,r,o){return n(),a("div",null,s[0]||(s[0]=[l(`<h3 id="–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è-—Ä–∞–±–æ—Ç–∞-capture-the-flag-ctf-–ø–æ-–æ—Å–Ω–æ–≤–∞–º-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏-–≤-linux" tabindex="-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞: <strong>Capture The Flag (CTF) –ø–æ –æ—Å–Ω–æ–≤–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ Linux</strong> <a class="header-anchor" href="#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è-—Ä–∞–±–æ—Ç–∞-capture-the-flag-ctf-–ø–æ-–æ—Å–Ω–æ–≤–∞–º-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏-–≤-linux" aria-label="Permalink to &quot;–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞: **Capture The Flag (CTF) –ø–æ –æ—Å–Ω–æ–≤–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ Linux**&quot;">‚Äã</a></h3><p><strong>–¶–µ–ª—å:</strong> –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π –ø–æ —Ç–µ–º–µ ¬´–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –ò–ë, –∑–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã Linux¬ª —á–µ—Ä–µ–∑ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –≤ –∏–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–µ.<br><strong>–§–æ—Ä–º–∞—Ç:</strong> –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (3‚Äì4 —á–µ–ª–æ–≤–µ–∫–∞ –≤ –≥—Ä—É–ø–ø–µ) –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ CTFd. –ö–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –±–∞–ª–ª–∞–º–∏. –ü–æ–±–µ–∂–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞, –Ω–∞–±—Ä–∞–≤—à–∞—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–∞–ª–ª–æ–≤ –∑–∞ –æ—Ç–≤–µ–¥—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è.</p><hr><h3 id="üìö-–±–ª–æ–∫-—Ç–µ–æ—Ä–∏–∏-–∫—Ä–∞—Ç–∫–æ–µ-–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ-–ø–µ—Ä–µ–¥-—Å—Ç–∞—Ä—Ç–æ–º" tabindex="-1">üìö <strong>–ë–ª–æ–∫ —Ç–µ–æ—Ä–∏–∏ (–∫—Ä–∞—Ç–∫–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º)</strong> <a class="header-anchor" href="#üìö-–±–ª–æ–∫-—Ç–µ–æ—Ä–∏–∏-–∫—Ä–∞—Ç–∫–æ–µ-–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ-–ø–µ—Ä–µ–¥-—Å—Ç–∞—Ä—Ç–æ–º" aria-label="Permalink to &quot;üìö **–ë–ª–æ–∫ —Ç–µ–æ—Ä–∏–∏ (–∫—Ä–∞—Ç–∫–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º)**&quot;">‚Äã</a></h3><p>–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –≤—Å–ø–æ–º–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è:</p><ol><li><strong>–£–≥—Ä–æ–∑—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</strong> ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –≤–µ–¥—É—â–∏–µ –∫ –Ω–∞—Ä—É—à–µ–Ω–∏—é –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∑–ª–æ–º, —É—Ç–µ—á–∫–∞ –ø–∞—Ä–æ–ª–µ–π).</li><li><strong>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</strong> ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–æ–≥–∏–Ω) –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –µ–≥–æ –ø—Ä–∞–≤ (–ø–∞—Ä–æ–ª—å, SSH-–∫–ª—é—á–∏).</li><li><strong>–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞</strong> ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª–∏ DAC (Discretionary Access Control) –∏ MAC (Mandatory Access Control). –í Linux –ø—Ä–∞–≤–∞ –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ <code>chmod</code>, <code>chown</code>, <code>SELinux</code>.</li><li><strong>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è</strong> ‚Äî –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º (Base64, AES, RSA). –í Linux –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç—ã <code>base64</code>, <code>gpg</code>, <code>openssl</code>.</li><li><strong>–ê—É–¥–∏—Ç –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ –≤—Ç–æ—Ä–∂–µ–Ω–∏–π</strong> ‚Äî –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ (<code>/var/log/</code>), –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.</li><li><strong>–£—è–∑–≤–∏–º–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª–µ–π</strong> ‚Äî —Å–ª–∞–±—ã–µ –ø–∞—Ä–æ–ª–∏, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ, –ø–µ—Ä–µ–±–æ—Ä (brute-force).</li></ol><hr><h3 id="üõ†Ô∏è-–∑–∞–¥–∞–Ω–∏—è-ctf" tabindex="-1">üõ†Ô∏è <strong>–ó–∞–¥–∞–Ω–∏—è CTF</strong> <a class="header-anchor" href="#üõ†Ô∏è-–∑–∞–¥–∞–Ω–∏—è-ctf" aria-label="Permalink to &quot;üõ†Ô∏è **–ó–∞–¥–∞–Ω–∏—è CTF**&quot;">‚Äã</a></h3><p>–ö–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç <strong>–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</strong> –∏ <strong>—Ñ–ª–∞–≥</strong> (—Ñ–æ—Ä–º–∞—Ç: <code>flag{...}</code>). –°—Ç—É–¥–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Å Linux (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ubuntu), –≥–¥–µ —Ä–∞–∑–º–µ—â–µ–Ω—ã –∑–∞–¥–∞—á–∏.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-1-—É—è–∑–≤–∏–º–æ—Å—Ç—å-–ø–∞—Ä–æ–ª–µ–∏" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 1: –£—è–∑–≤–∏–º–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-1-—É—è–∑–≤–∏–º–æ—Å—Ç—å-–ø–∞—Ä–æ–ª–µ–∏" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 1: –£—è–∑–≤–∏–º–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í —Å–∏—Å—Ç–µ–º–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞, –≥–¥–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –∏ –∏–∑–≤–ª–µ–∫–∏—Ç–µ —Ñ–ª–∞–≥.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>/etc/nginx/conf.d/default.conf</code><br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å <code>password</code>.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/nginx/conf.d/default.conf</span></span></code></pre></div></li><li>–í–∏–¥–∏–º —Å—Ç—Ä–æ–∫—É:<br><code># DEBUG: admin password = flag{p4ssw0rd_1n_c0nf}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{p4ssw0rd_1n_c0nf}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö ‚Äî –≥—Ä—É–±–∞—è –æ—à–∏–±–∫–∞. –í —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –ø–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, HashiCorp Vault).</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-2-—Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ-–¥–æ—Å—Ç—É–ø–∞-dac" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 2: –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ (DAC)</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-2-—Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ-–¥–æ—Å—Ç—É–ø–∞-dac" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 2: –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ (DAC)**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í –≤–∞—à–µ–π –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ª–µ–∂–∏—Ç —Ñ–∞–π–ª <code>flag.txt</code>, –Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –µ–≥–æ –Ω–µ–ª—å–∑—è. –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, —á—Ç–æ–±—ã –∏–∑–≤–ª–µ—á—å —Ñ–ª–∞–≥.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>~/flag.txt</code><br><strong>–¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∞:</strong> <code>-rw-------</code> (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å).</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/flag.txt</span></span></code></pre></div></li><li>–î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> o+r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/flag.txt</span></span></code></pre></div></li><li>–ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/flag.txt</span></span></code></pre></div></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{chm0d_1s_p0w3r}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ú–µ—Ö–∞–Ω–∏–∑–º DAC –≤ Linux –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ <code>chmod</code>. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ –¥–∞–Ω–Ω—ã—Ö.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-3-–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è-base64" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 3: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (Base64)</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-3-–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è-base64" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 3: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (Base64)**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –§–ª–∞–≥ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ Base64 –∏ —Å–ø—Ä—è—Ç–∞–Ω –≤ —Ñ–∞–π–ª–µ <code>/tmp/secret.enc</code>. –†–∞—Å–∫–æ–¥–∏—Ä—É–π—Ç–µ –µ–≥–æ.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–î–µ–∫–æ–¥–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/secret.enc</span></span></code></pre></div></li><li>–ü–æ–ª—É—á–∞–µ–º —Ñ–ª–∞–≥: <code>flag{b4s364_d3c0d3d}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{b4s364_d3c0d3d}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> Base64 ‚Äî –Ω–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ. –û–Ω–æ –Ω–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-4-–∞–Ω–∞–ª–∏–∑-–ª–æ–≥–æ–≤-–∞—É–¥–∏—Ç" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 4: –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ (–∞—É–¥–∏—Ç)</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-4-–∞–Ω–∞–ª–∏–∑-–ª–æ–≥–æ–≤-–∞—É–¥–∏—Ç" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 4: –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ (–∞—É–¥–∏—Ç)**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í –ª–æ–≥–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ SSH. –ù–∞–π–¥–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞.<br><strong>–ü—É—Ç—å –∫ –ª–æ–≥–∞–º:</strong> <code>/var/log/auth.log</code><br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å <code>Failed password</code>.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ò—â–µ–º –∑–∞–ø–∏—Å–∏ –æ–± –æ—à–∏–±–∫–∞—Ö:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Failed password&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/auth.log</span></span></code></pre></div></li><li>–ù–∞—Ö–æ–¥–∏–º —Å—Ç—Ä–æ–∫—É:<br><code>Jan 10 12:34:56 ubuntu sshd[1234]: Failed password for root from 192.168.1.100 port 56789 ssh2</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{192_168_1_100}</code> (IP-–∞–¥—Ä–µ—Å –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Ñ–ª–∞–≥–∞).</li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ ‚Äî –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∞—Ç–∞–∫. –í —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–∏—Å—Ç–µ–º—ã SIEM (–Ω–∞–ø—Ä–∏–º–µ—Ä, ELK Stack) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-5-—Å–∫—Ä—ã—Ç—ã–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 5: –°–∫—Ä—ã—Ç—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-5-—Å–∫—Ä—ã—Ç—ã–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 5: –°–∫—Ä—ã—Ç—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í —Å–∏—Å—Ç–µ–º–µ –∑–∞–≤–µ–¥—ë–Ω —Å–∫—Ä—ã—Ç—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –∏–º—è –≤ —Ñ–∞–π–ª–µ <code>/etc/passwd</code>.<br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> UID —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–±—ã—á–Ω–æ –º–µ–Ω—å—à–µ 1000.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ò—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å UID &lt; 1000:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;$3 &lt; 1000 {print $1}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span></span></code></pre></div></li><li>–í–∏–¥–∏–º —Å–ø–∏—Å–æ–∫:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>root  </span></span>
<span class="line"><span>daemon  </span></span>
<span class="line"><span>...  </span></span>
<span class="line"><span>ctf_hacker  # ‚Üê —Å–∫—Ä—ã—Ç—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span></span></code></pre></div></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{ctf_h4ck3r}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞—é—Ç —Å–∫—Ä—ã—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ. –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ <code>/etc/passwd</code> ‚Äî —á–∞—Å—Ç—å –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p><hr><h3 id="üìù-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" tabindex="-1">üìù <strong>–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</strong> <a class="header-anchor" href="#üìù-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" aria-label="Permalink to &quot;üìù **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**&quot;">‚Äã</a></h3><ol><li><strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã:</strong><ul><li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å Ubuntu –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ <code>docker-compose</code>).</li><li>–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã —Å —Ñ–ª–∞–≥–∞–º–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—É—Ç—è—Ö.</li></ul></li><li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</strong><ul><li>–ó–∞–¥–∞–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö. –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–µ—à–∞—é—Ç—Å—è 1‚Äì2 —Å—Ç—Ä–æ–∫–∞–º–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.</li></ul></li><li><strong>–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ CTF:</strong><ul><li>–†–∞–∑–±–µ—Ä–∏—Ç–µ –∫–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –æ–±—ä—è—Å–Ω–∏—Ç–µ, –∫–∞–∫ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.</li><li>–ü—Ä–∏–º–µ—Ä: ¬´–ü–æ—á–µ–º—É —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö ‚Äî —Ä–∏—Å–∫? –ö–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å?¬ª</li></ul></li></ol><hr><h3 id="üí°-–∏—Ç–æ–≥" tabindex="-1">üí° <strong>–ò—Ç–æ–≥</strong> <a class="header-anchor" href="#üí°-–∏—Ç–æ–≥" aria-label="Permalink to &quot;üí° **–ò—Ç–æ–≥**&quot;">‚Äã</a></h3><p>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p><ul><li>–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–æ—Ä–∏—é –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ä–µ–¥–µ.</li><li>–ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ Linux (<code>grep</code>, <code>chmod</code>, <code>base64</code>).</li><li>–ü–æ–Ω—è—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ –∫–∞–∫ –∏—Ö –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å.</li></ul><p><strong>–£–¥–∞—á–∏ –≤ –ø–æ–∏—Å–∫–µ —Ñ–ª–∞–≥–æ–≤!</strong> üèÅ</p><h3 id="üõ†Ô∏è-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∑–∞–¥–∞–Ω–∏—è-ctf" tabindex="-1">üõ†Ô∏è <strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è CTF</strong> <a class="header-anchor" href="#üõ†Ô∏è-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∑–∞–¥–∞–Ω–∏—è-ctf" aria-label="Permalink to &quot;üõ†Ô∏è **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è CTF**&quot;">‚Äã</a></h3><p>–ù–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è —Ñ–æ–∫—É—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–∏—Ö –∞—Å–ø–µ–∫—Ç–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Linux: <strong>SSH-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, SELinux, —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã, –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ —á–µ—Ä–µ–∑ sudo</strong>. –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—ã–µ –∏ —Ä–µ—à–∞—é—Ç—Å—è 1‚Äì2 –∫–æ–º–∞–Ω–¥–∞–º–∏.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-6-–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ-ssh-–∫–ª—é—á–∏" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 6: –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ SSH-–∫–ª—é—á–∏</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-6-–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ-ssh-–∫–ª—é—á–∏" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 6: –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ SSH-–∫–ª—é—á–∏**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH-–∫–ª—é—á –ª–µ–∂–∏—Ç –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –∏ –∏–∑–≤–ª–µ–∫–∏—Ç–µ —Ñ–ª–∞–≥ –∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>~/.ssh/id_rsa</code><br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa</span></span></code></pre></div></li><li>–í–∏–¥–∏–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–Ω—Ü–µ:<br><code># Generated by CTF: flag{ssh_k3y_1s_pu8l1c}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{ssh_k3y_1s_pu8l1c}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ SSH-–∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ <code>600</code> (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü). –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –¥–æ—Å—Ç—É–ø–æ–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º —É–∫—Ä–∞—Å—Ç—å –∏—Ö –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-8-—Å–∫—Ä—ã—Ç—ã–∏-—Ñ–∞–∏–ª-–≤-–¥–æ–º–∞—à–Ω–µ–∏-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 8: –°–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-8-—Å–∫—Ä—ã—Ç—ã–∏-—Ñ–∞–∏–ª-–≤-–¥–æ–º–∞—à–Ω–µ–∏-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 8: –°–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –§–ª–∞–≥ —Å–ø—Ä—è—Ç–∞–Ω –≤ —Å–∫—Ä—ã—Ç–æ–º —Ñ–∞–π–ª–µ. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –∏ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.<br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –í Linux —Ñ–∞–π–ª—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å —Ç–æ—á–∫–∏, –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ–±—ã—á–Ω–æ–º —Å–ø–∏—Å–∫–µ.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~</span></span></code></pre></div></li><li>–ù–∞—Ö–æ–¥–∏–º —Ñ–∞–π–ª <code>.flag_secret</code> –∏ —á–∏—Ç–∞–µ–º –µ–≥–æ:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.flag_secret</span></span></code></pre></div></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{h1dd3n_d0t_f1l3}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å <code>.</code>) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±—ç–∫–¥–æ—Ä–æ–≤ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-9-–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–∏-–ø—Ä–æ—Ü–µ—Å—Å" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 9: –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-9-–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–∏-–ø—Ä–æ—Ü–µ—Å—Å" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 9: –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í —Å–∏—Å—Ç–µ–º–µ –∑–∞–ø—É—â–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç —Ñ–ª–∞–≥ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ.<br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>ps aux</code> –∏ —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É <code>flag</code>.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ò—â–µ–º –ø—Ä–æ—Ü–µ—Å—Å —Å —Ñ–ª–∞–≥–æ–º:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag</span></span></code></pre></div></li><li>–í –≤—ã–≤–æ–¥–µ –≤–∏–¥–∏–º:<br><code>ctf 1234 0.0 0.1 12345 6789 pts/0 S+ 12:34 0:00 /bin/bash -c echo flag{pr0c3ss_4rgs_4r3_v1s1bl3}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{pr0c3ss_4rgs_4r3_v1s1bl3}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–µ—Ä–µ–∑ <code>ps</code>. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã) –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –∫–æ–º–∞–Ω–¥ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-10-–ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏-—á–µ—Ä–µ–∑-sudo" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 10: –ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —á–µ—Ä–µ–∑ sudo</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-10-–ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏-—á–µ—Ä–µ–∑-sudo" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 10: –ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏ —á–µ—Ä–µ–∑ sudo**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É <code>cat</code> –±–µ–∑ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ <code>sudo</code>. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª —Å —Ñ–ª–∞–≥–æ–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ <code>/root</code>.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>/root/flag.txt</code><br><strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:</strong> <code>sudo -l</code></p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span></code></pre></div>–í—ã–≤–æ–¥: <code>(ALL) NOPASSWD: /usr/bin/cat</code></li><li>–ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /root/flag.txt</span></span></code></pre></div></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{sud0_n0_p4ssw0rd}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ <code>sudoers</code> (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ <code>NOPASSWD</code> –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥) –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Å–∫–∞–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏. –í—Å–µ–≥–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –∏ —Ç—Ä–µ–±—É–π—Ç–µ –ø–∞—Ä–æ–ª—å.</p><hr><h3 id="üìù-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–¥–ª—è-–Ω–æ–≤—ã—Ö-–∑–∞–¥–∞–Ω–∏–∏" tabindex="-1">üìù <strong>–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π</strong> <a class="header-anchor" href="#üìù-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–¥–ª—è-–Ω–æ–≤—ã—Ö-–∑–∞–¥–∞–Ω–∏–∏" aria-label="Permalink to &quot;üìù **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π**&quot;">‚Äã</a></h3><ol><li><strong>SSH-–∫–ª—é—á–∏ (–ó–∞–¥–∞–Ω–∏–µ 6):</strong><ul><li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª <code>~/.ssh/id_rsa</code> –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ <code>644</code> (–∞ –Ω–µ <code>600</code>), —á—Ç–æ–±—ã —Å—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥–ª–∏ –µ–≥–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å.</li></ul></li><li><strong>SELinux (–ó–∞–¥–∞–Ω–∏–µ 7):</strong><ul><li>–í —Ñ–∞–π–ª–µ <code>/etc/selinux/config</code> –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å —Ñ–ª–∞–≥–æ–º —Ä—è–¥–æ–º —Å–æ —Å—Ç—Ä–æ–∫–æ–π <code>SELINUX=permissive</code>.</li></ul></li><li><strong>–°–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã (–ó–∞–¥–∞–Ω–∏–µ 8):</strong><ul><li>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>.flag_secret</code> –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</li></ul></li><li><strong>–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–ó–∞–¥–∞–Ω–∏–µ 9):</strong><ul><li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(while true; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;flag{pr0c3ss_4rgs_4r3_v1s1bl3}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; done) &amp;</span></span></code></pre></div></li></ul></li><li><strong>Sudo (–ó–∞–¥–∞–Ω–∏–µ 10):</strong><ul><li>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ <code>/etc/sudoers</code> —á–µ—Ä–µ–∑ <code>visudo</code>:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ctf_user ALL=(ALL) NOPASSWD: /usr/bin/cat</span></span></code></pre></div></li></ul></li></ol><hr><h3 id="üí°-–∏—Ç–æ–≥-–ø–æ-–Ω–æ–≤—ã–º-–∑–∞–¥–∞–Ω–∏—è–º" tabindex="-1">üí° <strong>–ò—Ç–æ–≥ –ø–æ –Ω–æ–≤—ã–º –∑–∞–¥–∞–Ω–∏—è–º</strong> <a class="header-anchor" href="#üí°-–∏—Ç–æ–≥-–ø–æ-–Ω–æ–≤—ã–º-–∑–∞–¥–∞–Ω–∏—è–º" aria-label="Permalink to &quot;üí° **–ò—Ç–æ–≥ –ø–æ –Ω–æ–≤—ã–º –∑–∞–¥–∞–Ω–∏—è–º**&quot;">‚Äã</a></h3><p>–≠—Ç–∏ –∑–∞–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω—è—é—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ, –æ—Ö–≤–∞—Ç—ã–≤–∞—è:</p><ul><li><strong>SSH-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> (—É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∫–ª—é—á–µ–π),</li><li><strong>–ú–∞–Ω–¥–∞—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º</strong> (SELinux),</li><li><strong>–°–∫—Ä—ã—Ç—ã–µ —É–≥—Ä–æ–∑—ã</strong> (—Ñ–∞–π–ª—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã),</li><li><strong>–≠—Å–∫–∞–ª–∞—Ü–∏—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π</strong> (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ sudo).</li></ul><p>–°—Ç—É–¥–µ–Ω—Ç—ã –Ω–∞—É—á–∞—Ç—Å—è:</p><ul><li>–†–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–∫—Ä—ã—Ç—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏,</li><li>–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ–ª–∏—Ç–∏–∫,</li><li>–ü–æ–Ω–∏–º–∞—Ç—å —Ä–∏—Å–∫–∏ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∞–≤.</li></ul><p><strong>–í–∞–∂–Ω–æ:</strong> –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏–º–∏—Ç–∏—Ä—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Å—É–¥–∏—Ç–µ, –∫–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ! üõ°Ô∏è</p><h3 id="üõ†Ô∏è-–µ—â–µ-–ø—è—Ç—å-–∑–∞–¥–∞–Ω–∏–∏-ctf-–±–µ–∑-selinux" tabindex="-1">üõ†Ô∏è <strong>–ï—â—ë –ø—è—Ç—å –∑–∞–¥–∞–Ω–∏–π CTF (–±–µ–∑ SELinux)</strong> <a class="header-anchor" href="#üõ†Ô∏è-–µ—â–µ-–ø—è—Ç—å-–∑–∞–¥–∞–Ω–∏–∏-ctf-–±–µ–∑-selinux" aria-label="Permalink to &quot;üõ†Ô∏è **–ï—â—ë –ø—è—Ç—å –∑–∞–¥–∞–Ω–∏–π CTF (–±–µ–∑ SELinux)**&quot;">‚Äã</a></h3><p>–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —Ñ–æ–∫—É—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ <strong>SUID-–±–∏—Ç–∞—Ö, cron-–∑–∞–¥–∞–Ω–∏—è—Ö, —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏–∏, –∞–Ω–∞–ª–∏–∑–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö</strong>. –í—Å–µ –∑–∞–¥–∞–Ω–∏—è —Ä–µ—à–∞—é—Ç—Å—è 1‚Äì2 –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —É–≥–ª—É–±–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-11-—É—è–∑–≤–∏–º—ã–∏-suid-–±–∏—Ç" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 11: –£—è–∑–≤–∏–º—ã–π SUID-–±–∏—Ç</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-11-—É—è–∑–≤–∏–º—ã–∏-suid-–±–∏—Ç" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 11: –£—è–∑–≤–∏–º—ã–π SUID-–±–∏—Ç**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º SUID-–±–∏—Ç–æ–º. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ–Ω –≤—ã–≤–æ–¥–∏—Ç —Ñ–ª–∞–≥, –Ω–æ –Ω–∞–π—Ç–∏ –µ–≥–æ –Ω–µ–ø—Ä–æ—Å—Ç–æ.<br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>find</code>, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∞–º–∏ <code>4000</code>.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ò—â–µ–º —Ñ–∞–π–ª—ã —Å SUID:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -perm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> 2&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/dev/null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag</span></span></code></pre></div></li><li>–ù–∞—Ö–æ–¥–∏–º —Ñ–∞–π–ª: <code>/usr/local/bin/get_flag</code></li><li>–ó–∞–ø—É—Å–∫–∞–µ–º –µ–≥–æ:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/bin/get_flag</span></span></code></pre></div></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{suid_3sc4l4t10n}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> SUID-–±–∏—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ–∞–π–ª –æ—Ç –∏–º–µ–Ω–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, root). –£—è–∑–≤–∏–º—ã–µ SUID-—Ñ–∞–π–ª—ã ‚Äî —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ SUID-–±–∏—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π <code>find / -perm -4000</code>.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-12-—Å–∫—Ä—ã—Ç—ã–∏-cron-–¥–µ–º–æ–Ω" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 12: –°–∫—Ä—ã—Ç—ã–π cron-–¥–µ–º–æ–Ω</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-12-—Å–∫—Ä—ã—Ç—ã–∏-cron-–¥–µ–º–æ–Ω" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 12: –°–∫—Ä—ã—Ç—ã–π cron-–¥–µ–º–æ–Ω**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –í cron –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥ –≤ <code>/tmp/flag.log</code>, –Ω–æ —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è. –ù–∞–π–¥–∏—Ç–µ —Ñ–ª–∞–≥ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ cron.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>/etc/cron.d/ctf_job</code></p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ cron-–∑–∞–¥–∞–Ω–∏—è:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/cron.d/ctf_job</span></span></code></pre></div></li><li>–í–∏–¥–∏–º —Å—Ç—Ä–æ–∫—É:<br><code>* * * * * root echo &quot;flag{cr0n_1s_h1dd3n}&quot; &gt; /tmp/flag.log &amp;&amp; rm -f /tmp/flag.log</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{cr0n_1s_h1dd3n}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤. –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ <code>/etc/cron.d/</code>, <code>/var/spool/cron/</code> –∏ –¥—Ä—É–≥–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ cron.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-13-—Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è-–≤-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 13: –°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-13-—Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è-–≤-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 13: –°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –§–ª–∞–≥ —Å–ø—Ä—è—Ç–∞–Ω –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ EXIF.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>/images/secret.jpg</code><br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>exiftool</code>.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exiftool</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /images/secret.jpg</span></span></code></pre></div></li><li>–í –ø–æ–ª–µ <code>Comment</code> –≤–∏–¥–∏–º:<br><code>Comment : flag{st3g0_1n_jpg}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{st3g0_1n_jpg}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è ‚Äî –º–µ—Ç–æ–¥ —Å–æ–∫—Ä—ã—Ç–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∞—É–¥–∏–æ). –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–¥–æ–±–Ω—ã—Ö —É–≥—Ä–æ–∑ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-14-–∞–Ω–∞–ª–∏–∑-–∏—Å—Ç–æ—Ä–∏–∏-–∫–æ–º–∞–Ω–¥" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 14: –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-14-–∞–Ω–∞–ª–∏–∑-–∏—Å—Ç–æ—Ä–∏–∏-–∫–æ–º–∞–Ω–¥" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 14: –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–ª—Å—è —Å–∫—Ä—ã—Ç—å —Å–ª–µ–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω–æ —Ñ–ª–∞–≥ –æ—Å—Ç–∞–ª—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>~/.bash_history</code></p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bash_history</span></span></code></pre></div></li><li>–ù–∞—Ö–æ–¥–∏–º —Å—Ç—Ä–æ–∫—É:<br><code># DEBUG: flag{h1st0ry_n0t_cl34r3d}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{h1st0ry_n0t_cl34r3d}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ (<code>~/.bash_history</code>) —á–∞—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã). –í —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É –∏—Å—Ç–æ—Ä–∏–∏ –∏–ª–∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ <code>unset HISTFILE</code>.</p><hr><h4 id="–∑–∞–¥–∞–Ω–∏–µ-15-–æ—Ç–∫—Ä—ã—Ç—ã–∏-–ø–æ—Ä—Ç-—Å-—Ñ–ª–∞–≥–æ–º" tabindex="-1"><strong>–ó–∞–¥–∞–Ω–∏–µ 15: –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç —Å —Ñ–ª–∞–≥–æ–º</strong> <a class="header-anchor" href="#–∑–∞–¥–∞–Ω–∏–µ-15-–æ—Ç–∫—Ä—ã—Ç—ã–∏-–ø–æ—Ä—Ç-—Å-—Ñ–ª–∞–≥–æ–º" aria-label="Permalink to &quot;**–ó–∞–¥–∞–Ω–∏–µ 15: –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç —Å —Ñ–ª–∞–≥–æ–º**&quot;">‚Äã</a></h4><p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br> –°–µ—Ä–≤–∏—Å –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–ª–∞–≥ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏, –Ω–æ –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç. –ù–∞–π–¥–∏—Ç–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.<br><strong>–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É:</strong> <code>/etc/services</code><br><strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—â–∏—Ç–µ –ø–æ—Ä—Ç <code>9999</code>.</p><p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p><ol><li>–ò—â–µ–º –ø–æ—Ä—Ç 9999:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;9999&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/services</span></span></code></pre></div></li><li>–í–∏–¥–∏–º —Å—Ç—Ä–æ–∫—É:<br><code>ctf-flag 9999/tcp # flag{n3tw0rk_1s_l34k1ng}</code></li><li><strong>–§–ª–∞–≥:</strong> <code>flag{n3tw0rk_1s_l34k1ng}</code></li></ol><p><strong>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:</strong><br> –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ <code>/etc/services</code> –º–æ–≥—É—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö. –†–µ–≥—É–ª—è—Ä–Ω–æ –∞—É–¥–∏—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ <code>ufw</code> –∏–ª–∏ <code>iptables</code>.</p><hr><h3 id="üìù-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-1" tabindex="-1">üìù <strong>–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</strong> <a class="header-anchor" href="#üìù-–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-1" aria-label="Permalink to &quot;üìù **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**&quot;">‚Äã</a></h3><ol><li><strong>SUID (–ó–∞–¥–∞–Ω–∏–µ 11):</strong><ul><li>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>/usr/local/bin/get_flag</code> —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;flag{suid_3sc4l4t10n}&quot;</span></span></code></pre></div></li><li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SUID: <code>chmod 4755 /usr/local/bin/get_flag</code>.</li></ul></li><li><strong>Cron (–ó–∞–¥–∞–Ω–∏–µ 12):</strong><ul><li>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>/etc/cron.d/ctf_job</code> —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.</li></ul></li><li><strong>–°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è (–ó–∞–¥–∞–Ω–∏–µ 13):</strong><ul><li>–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exiftool</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Comment=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flag{st3g0_1n_jpg}&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /images/secret.jpg</span></span></code></pre></div></li></ul></li><li><strong>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ (–ó–∞–¥–∞–Ω–∏–µ 14):</strong><ul><li>–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É —Å —Ñ–ª–∞–≥–æ–º –≤ <code>~/.bash_history</code> –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</li></ul></li><li><strong>–°–µ—Ç—å (–ó–∞–¥–∞–Ω–∏–µ 15):</strong><ul><li>–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É —Å —Ñ–ª–∞–≥–æ–º –≤ <code>/etc/services</code>.</li></ul></li></ol><hr><h3 id="üí°-–∏—Ç–æ–≥-–ø–æ-–Ω–æ–≤—ã–º-–∑–∞–¥–∞–Ω–∏—è–º-1" tabindex="-1">üí° <strong>–ò—Ç–æ–≥ –ø–æ –Ω–æ–≤—ã–º –∑–∞–¥–∞–Ω–∏—è–º</strong> <a class="header-anchor" href="#üí°-–∏—Ç–æ–≥-–ø–æ-–Ω–æ–≤—ã–º-–∑–∞–¥–∞–Ω–∏—è–º-1" aria-label="Permalink to &quot;üí° **–ò—Ç–æ–≥ –ø–æ –Ω–æ–≤—ã–º –∑–∞–¥–∞–Ω–∏—è–º**&quot;">‚Äã</a></h3><p>–≠—Ç–∏ –∑–∞–¥–∞—á–∏ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç:</p><ul><li><strong>–≠—Å–∫–∞–ª–∞—Ü–∏—é –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π —á–µ—Ä–µ–∑ SUID</strong>,</li><li><strong>–°–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏ –≤ cron</strong>,</li><li><strong>–°–æ–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—é</strong>,</li><li><strong>–ê–Ω–∞–ª–∏–∑ —Å–ª–µ–¥–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥</strong>,</li><li><strong>–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö</strong>.</li></ul><p>–°—Ç—É–¥–µ–Ω—Ç—ã –Ω–∞—É—á–∞—Ç—Å—è:</p><ul><li>–í—ã—è–≤–ª—è—Ç—å —É—è–∑–≤–∏–º—ã–µ —Ç–æ—á–∫–∏ –≤ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø–∞,</li><li>–†–∞–±–æ—Ç–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∂—É—Ä–Ω–∞–ª–∞–º–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏,</li><li>–ü–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–∞—Å–∫–∏—Ä—É—é—Ç —Å–≤–æ—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.</li></ul><p><strong>–í–∞–∂–Ω–æ:</strong> –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏–º–∏—Ç–∏—Ä—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Å—É–¥–∏—Ç–µ, –∫–∞–∫ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ —Ä–∞–±–æ—á–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö! üîí</p><h1 id="—Ä—ã–±–∞-–¥–ª—è-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏-—Å—Ç–µ–Ω–¥–æ–≤" tabindex="-1">–†—ã–±–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ç–µ–Ω–¥–æ–≤ <a class="header-anchor" href="#—Ä—ã–±–∞-–¥–ª—è-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏-—Å—Ç–µ–Ω–¥–æ–≤" aria-label="Permalink to &quot;–†—ã–±–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ç–µ–Ω–¥–æ–≤&quot;">‚Äã</a></h1><h1 id="–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-–Ω–∞—Å—Ç—Ä–æ–∏–∫–µ-10-docker-–∫–æ–Ω—Ç–µ–∏–Ω–µ—Ä–æ–≤-—Å-—Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–∏-–ø–æ-ssh" tabindex="-1">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ 10 Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å —Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –ø–æ SSH <a class="header-anchor" href="#–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-–Ω–∞—Å—Ç—Ä–æ–∏–∫–µ-10-docker-–∫–æ–Ω—Ç–µ–∏–Ω–µ—Ä–æ–≤-—Å-—Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–∏-–ø–æ-ssh" aria-label="Permalink to &quot;–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ 10 Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å —Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –ø–æ SSH&quot;">‚Äã</a></h1><h2 id="–æ–±—â–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è" tabindex="-1">–û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è <a class="header-anchor" href="#–æ–±—â–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è" aria-label="Permalink to &quot;–û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è&quot;">‚Äã</a></h2><p>–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å SSH-—Å–µ—Ä–≤–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –ø–æ—Ä—Ç—É —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ systemd. –ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç (–Ω–∞—á–∏–Ω–∞—è —Å 2222), –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏.</p><h2 id="—à–∞–≥-1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-docker-–æ–±—Ä–∞–∑–∞-–æ–¥–∏–Ω-—Ä–∞–∑-–¥–ª—è-–≤—Å–µ—Ö-–∫–æ–Ω—Ç–µ–∏–Ω–µ—Ä–æ–≤" tabindex="-1">–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ (–æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤) <a class="header-anchor" href="#—à–∞–≥-1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-docker-–æ–±—Ä–∞–∑–∞-–æ–¥–∏–Ω-—Ä–∞–∑-–¥–ª—è-–≤—Å–µ—Ö-–∫–æ–Ω—Ç–µ–∏–Ω–µ—Ä–æ–≤" aria-label="Permalink to &quot;–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ (–æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)&quot;">‚Äã</a></h2><ol><li><p>–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/ssh-container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/ssh-container</span></span></code></pre></div></li><li><p>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>Dockerfile</code>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Dockerfile</span></span></code></pre></div></li><li><p>–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:</p><div class="language-Dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ubuntu:22.04</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSH-—Å–µ—Ä–≤–µ—Ä–∞</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> apt-get update &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DEBIAN_FRONTEND=noninteractive apt-get install -y openssh-server &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mkdir -p /var/run/sshd &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sed -i </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /etc/ssh/sshd_config &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    echo </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;root:docker&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | chpasswd &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    apt-get clean &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rm -rf /var/lib/apt/lists/*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 22</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/usr/sbin/sshd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li><li><p>–°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh-socket-activated</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div></li></ol><h2 id="—à–∞–≥-2-–Ω–∞—Å—Ç—Ä–æ–∏–∫–∞-—à–∞–±–ª–æ–Ω–Ω—ã—Ö-—é–Ω–∏—Ç–æ–≤-systemd" tabindex="-1">–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —é–Ω–∏—Ç–æ–≤ systemd <a class="header-anchor" href="#—à–∞–≥-2-–Ω–∞—Å—Ç—Ä–æ–∏–∫–∞-—à–∞–±–ª–æ–Ω–Ω—ã—Ö-—é–Ω–∏—Ç–æ–≤-systemd" aria-label="Permalink to &quot;–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —é–Ω–∏—Ç–æ–≤ systemd&quot;">‚Äã</a></h2><ol><li><p>–°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω–Ω—ã–π —Å–æ–∫–µ—Ç-—é–Ω–∏—Ç:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/systemd/system/ssh-container@.socket</span></span></code></pre></div><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=SSH Socket for Docker Container Activation (Port %i)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Socket]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ListenStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=%i</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Accept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=yes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">MaxConnections</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FreeBind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WantedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=sockets.target</span></span></code></pre></div></li><li><p>–°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å-—é–Ω–∏—Ç:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/systemd/system/ssh-container@.service</span></span></code></pre></div><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=SSH Docker Container (Socket Activated) on port %i</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Requires</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=ssh-container@%i.socket</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Service]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExecStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/bin/docker run --rm \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    -e </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;container=oci&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    --name ssh-container-%i \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ssh-socket-activated /usr/sbin/sshd -i</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">StandardInput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=socket</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">StandardOutput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=socket</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RemainAfterExit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=no</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WantedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=multi-user.target</span></span></code></pre></div></li><li><p>–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é systemd:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span></code></pre></div></li></ol><h2 id="—à–∞–≥-3-–∞–∫—Ç–∏–≤–∞—Ü–∏—è-10-–∫–æ–Ω—Ç–µ–∏–Ω–µ—Ä–æ–≤" tabindex="-1">–®–∞–≥ 3: –ê–∫—Ç–∏–≤–∞—Ü–∏—è 10 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ <a class="header-anchor" href="#—à–∞–≥-3-–∞–∫—Ç–∏–≤–∞—Ü–∏—è-10-–∫–æ–Ω—Ç–µ–∏–Ω–µ—Ä–æ–≤" aria-label="Permalink to &quot;–®–∞–≥ 3: –ê–∫—Ç–∏–≤–∞—Ü–∏—è 10 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤&quot;">‚Äã</a></h2><ol><li><p>–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–æ–∫–µ—Ç—ã –¥–ª—è –ø–æ—Ä—Ç–æ–≤ 2222-2231:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2222..2231}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh-container@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.socket</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div></li><li><p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list-sockets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh-container</span></span></code></pre></div></li></ol><h2 id="—à–∞–≥-4-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" tabindex="-1">–®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è <a class="header-anchor" href="#—à–∞–≥-4-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" aria-label="Permalink to &quot;–®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è&quot;">‚Äã</a></h2><p>–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ª—é–±–æ–º—É –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@localhost</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2222</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@localhost</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2223</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ 2231</span></span></code></pre></div><p>–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.</p><hr><h1 id="bash-—Å–∫—Ä–∏–ø—Ç-–¥–ª—è-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–∏-–Ω–∞—Å—Ç—Ä–æ–∏–∫–∏" tabindex="-1">Bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ <a class="header-anchor" href="#bash-—Å–∫—Ä–∏–ø—Ç-–¥–ª—è-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–∏-–Ω–∞—Å—Ç—Ä–æ–∏–∫–∏" aria-label="Permalink to &quot;Bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏&quot;">‚Äã</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ N Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å —Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –ø–æ SSH</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./create_socket_container.sh &lt;–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ü—Ä–∏–º–µ—Ä: ./create_socket_container.sh 4</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –°–æ–∑–¥–∞—Å—Ç 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 2222, 2223, 2224, 2225</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$#</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -ne</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–û—à–∏–±–∫–∞: –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç - —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [[ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ^[0-9]+$ ]]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–û—à–∏–±–∫–∞: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONTAINER_COUNT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">$1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BASE_PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2222</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DOCKER_IMAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ssh-socket-activated&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BUILD_DIR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/opt/ssh-container-activation&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;=== –ù–ê–ß–ê–õ–û –ù–ê–°–¢–†–û–ô–ö–ò –°–û–ö–ï–¢-–ê–ö–¢–ò–í–ò–†–£–ï–ú–´–• SSH-–ö–û–ù–¢–ï–ô–ù–ï–†–û–í ===&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ë—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CONTAINER_COUNT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ë–∞–∑–æ–≤—ã–π –ø–æ—Ä—Ç: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> (–¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">-$((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> + CONTAINER_COUNT - </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)))&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Docker</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> command</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /dev/null; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–û—à–∏–±–∫–∞: Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º.&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BUILD_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BUILD_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Dockerfile (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DOCKERFILE_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BUILD_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/Dockerfile&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKERFILE_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–°–æ–∑–¥–∞–Ω–∏–µ Dockerfile...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKERFILE_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FROM ubuntu:22.04</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"># –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSH-—Å–µ—Ä–≤–µ—Ä–∞</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">RUN apt-get update &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    DEBIAN_FRONTEND=noninteractive apt-get install -y openssh-server &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    mkdir -p /var/run/sshd &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    sed -i &#39;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/&#39; /etc/ssh/sshd_config &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    echo &#39;root:docker&#39; | chpasswd &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    apt-get clean &amp;&amp; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    rm -rf /var/lib/apt/lists/*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EXPOSE 22</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Dockerfile —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –®–∞–≥ 2: –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inspect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKER_IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /dev/null; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKER_IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKER_IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BUILD_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–±—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Docker-–æ–±—Ä–∞–∑ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKER_IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä–∫—É&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —é–Ω–∏—Ç–æ–≤ systemd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SOCKET_UNIT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/etc/systemd/system/ssh-container@.socket&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SERVICE_UNIT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/etc/systemd/system/ssh-container@.service&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —é–Ω–∏—Ç–æ–≤ systemd...&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –°–æ–∫–µ—Ç-—é–Ω–∏—Ç</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/ssh-container@.socket</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EOF</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Description=SSH Socket for Docker Container Activation (Port %i)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[Socket]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ListenStream=%i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Accept=yes</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MaxConnections=10</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FreeBind=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">WantedBy=sockets.target</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –°–µ—Ä–≤–∏—Å-—é–Ω–∏—Ç</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/ssh-container@.service</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EOF</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Description=SSH Docker Container (Socket Activated) on port %i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Requires=ssh-container@%i.socket</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[Service]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ExecStart=/usr/bin/docker run --rm </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    -e &quot;container=oci&quot; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    --name ssh-container-%i </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $DOCKER_IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/sbin/sshd -i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">StandardInput=socket</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">StandardOutput=socket</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">RemainAfterExit=no</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —é–Ω–∏—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/ssh-container@.socket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$SOCKET_UNIT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/ssh-container@.service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$SERVICE_UNIT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–µ–º–æ–Ω–∞ systemd...&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –®–∞–≥ 5: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ê–∫—Ç–∏–≤–∞—Ü–∏—è </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CONTAINER_COUNT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤...&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">seq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $CONTAINER_COUNT); </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  - –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ssh-container@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.socket&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∫–µ—Ç –¥–ª—è –ø–æ—Ä—Ç–∞ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –®–∞–≥ 6: –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\n=== –ù–ê–°–¢–†–û–ô–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê ===&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CONTAINER_COUNT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> —Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º—ã—Ö SSH-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–î–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> - $((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> + CONTAINER_COUNT - </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">))&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\n–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;  ssh root@&lt;–≤–∞—à_—Ö–æ—Å—Ç&gt; -p &lt;–ø–æ—Ä—Ç&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ù–∞–ø—Ä–∏–º–µ—Ä: ssh root@localhost -p </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\n–¢–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–∫–µ—Ç—ã:&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list-sockets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh-container</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—Ä—Ç–∞</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\n–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—Ä—Ç–∞ (</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">):&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ss</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -tuln</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -q</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ü–æ—Ä—Ç </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç—Å—è&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ü–æ—Ä—Ç </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$BASE_PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> –Ω–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\n–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –ø–æ—Ä—Ç—É&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è SSH-—Å–µ—Å—Å–∏–∏.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><h2 id="–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Å–∫—Ä–∏–ø—Ç" tabindex="-1">–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç <a class="header-anchor" href="#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Å–∫—Ä–∏–ø—Ç" aria-label="Permalink to &quot;–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç&quot;">‚Äã</a></h2><ol><li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∫–∞–∫ <code>create_socket_container.sh</code></li><li>–°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create_socket_container.sh</span></span></code></pre></div></li><li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –Ω—É–∂–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./create_socket_container.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span></span></code></pre></div></li></ol><h2 id="–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Å–∫—Ä–∏–ø—Ç–∞" tabindex="-1">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∞ <a class="header-anchor" href="#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Å–∫—Ä–∏–ø—Ç–∞" aria-label="Permalink to &quot;–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∞&quot;">‚Äã</a></h2><ol><li><p><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</strong>:</p><ul><li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Docker</li><li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–∞ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π</li><li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤</li></ul></li><li><p><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</strong>:</p><ul><li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (ssh-container-&lt;–ø–æ—Ä—Ç&gt;)</li><li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤ –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π</li><li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —é–Ω–∏—Ç–æ–≤</li></ul></li><li><p><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong>:</p><ul><li>–ë–∞–∑–æ–≤—ã–π –ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2222)</li><li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</li><li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤</li></ul></li><li><p><strong>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong>:</p><ul><li>–ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li><li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–∫–µ—Ç–æ–≤ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li><li>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º</li></ul></li></ol><h2 id="–≤–∞–∂–Ω—ã–µ-–∑–∞–º–µ—á–∞–Ω–∏—è" tabindex="-1">–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è <a class="header-anchor" href="#–≤–∞–∂–Ω—ã–µ-–∑–∞–º–µ—á–∞–Ω–∏—è" aria-label="Permalink to &quot;–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è&quot;">‚Äã</a></h2><ol><li><p><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong>:</p><ul><li>–í –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å <code>docker</code> –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <code>root</code></li><li>–î–ª—è production-—Å—Ä–µ–¥ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ Dockerfile</li><li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH-–∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π</li></ul></li><li><p><strong>–ü–æ—Ä—Ç—ã</strong>:</p><ul><li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤ —Å–≤–æ–±–æ–¥–µ–Ω</li><li>–ü–æ—Ä—Ç—ã –Ω–∏–∂–µ 1024 —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li></ul></li><li><p><strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>:</p><ul><li>–°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 100+ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏)</li><li>–î–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ reverse proxy</li></ul></li><li><p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã</strong>:</p><ul><li>–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏</li><li>–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è</li><li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (MaxConnections=10)</li></ul></li></ol><p>–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–∫–µ—Ç-–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º—ã—Ö SSH-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —ç–∫–æ–Ω–æ–º—è –≤–∞—à–µ –≤—Ä–µ–º—è –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>`,149)]))}const c=i(t,[["render",h]]);export{g as __pageData,c as default};
