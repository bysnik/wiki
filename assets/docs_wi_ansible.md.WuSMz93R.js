import{_ as a,c as n,o as i,ag as p}from"./chunks/framework.D4Vqf8I7.js";const c=JSON.parse('{"title":"Ansible","description":"","frontmatter":{},"headers":[],"relativePath":"docs/wi/ansible.md","filePath":"docs/wi/ansible.md","lastUpdated":1766580434000}'),l={name:"docs/wi/ansible.md"};function e(t,s,h,k,r,d){return i(),n("div",null,s[0]||(s[0]=[p(`<h1 id="ansible" tabindex="-1">Ansible <a class="header-anchor" href="#ansible" aria-label="Permalink to &quot;Ansible&quot;">​</a></h1><p><img src="https://habrastorage.org/getpro/habr/upload_files/81b/5e2/9f1/81b5e29f12b41ba26dff6cdd05848a5b.webp" alt=""></p><p>Ansible — система управления конфигурациями, написанная на Python, с использованием декларативного языка разметки для описания конфигураций. Используется для автоматизации настройки и развертывания программного обеспечения. Обычно используется для управления Linux-узлами, но Windows также поддерживается. Поддерживает работу с сетевыми устройствами, на которых установлен Python версии 2.4 и выше по SSH или WinRM соединению.</p><p><a href="https://www.altlinux.org/Ansible" target="_blank" rel="noreferrer">https://www.altlinux.org/Ansible</a></p><h2 id="быстрыи-старт" tabindex="-1">Быстрый старт <a class="header-anchor" href="#быстрыи-старт" aria-label="Permalink to &quot;Быстрый старт&quot;">​</a></h2><h3 id="установка-на-сервер" tabindex="-1">Установка на сервер: <a class="header-anchor" href="#установка-на-сервер" aria-label="Permalink to &quot;Установка на сервер:&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible</span></span></code></pre></div><h3 id="установка-на-клиенты" tabindex="-1">Установка на клиенты: <a class="header-anchor" href="#установка-на-клиенты" aria-label="Permalink to &quot;Установка на клиенты:&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-module-yaml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-module-jinja2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-modules-json</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-modules-distutils</span></span></code></pre></div><p>На клиенте должен быть настроен доступ по ssh пользователем, находящимся в группе wheel.</p><p>Все дальнейшие действия производим на сервере.</p><h3 id="редактируем-фаил-etc-ansible-hosts-это-фаил-которыи-содержит-списки-хостов-и-группы-этих-хостов" tabindex="-1">Редактируем файл <code>/etc/ansible/hosts</code> - это файл, который содержит списки хостов и группы этих хостов: <a class="header-anchor" href="#редактируем-фаил-etc-ansible-hosts-это-фаил-которыи-содержит-списки-хостов-и-группы-этих-хостов" aria-label="Permalink to &quot;Редактируем файл \`/etc/ansible/hosts\` - это файл, который содержит списки хостов и группы этих хостов:&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[all:vars]</span></span>
<span class="line"><span>ansible_user=root</span></span>
<span class="line"><span>ansible_python_interpreter=/usr/bin/python3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ниже указываем хосты</span></span></code></pre></div><p>Пример файла hosts:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[all:vars]</span></span>
<span class="line"><span>ansible_user=root</span></span>
<span class="line"><span>ansible_python_interpreter=/usr/bin/python3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[group1]</span></span>
<span class="line"><span>192.168.100.101</span></span>
<span class="line"><span>192.168.100.102</span></span>
<span class="line"><span>192.168.100.103</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[servers]</span></span>
<span class="line"><span>altsrv1.courses.alt</span></span>
<span class="line"><span>altsrv2.courses.alt</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[wks]</span></span>
<span class="line"><span>altwks1 ansible_ssh_port=2221 ansible_ssh_host=192.168.100.201</span></span>
<span class="line"><span>altwks2 ansible_ssh_port=2221 ansible_ssh_host=192.168.100.202</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[alt:children]</span></span>
<span class="line"><span>servers</span></span>
<span class="line"><span>wks</span></span></code></pre></div><h3 id="использование-ad-hoc-команд-в-ansible" tabindex="-1">Использование ad-hoc команд в Ansible <a class="header-anchor" href="#использование-ad-hoc-команд-в-ansible" aria-label="Permalink to &quot;Использование ad-hoc команд в Ansible&quot;">​</a></h3><p>Проверяем связь с клиентом с помощью модуля ping в интерактивном режиме:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> servers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">altsrv1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;changed&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;ping&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pong&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">altsrv2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;changed&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;ping&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pong&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>где servers - это группа хостов из файла <code>/etc/ansible/hosts</code></p><p>Пример. Выполнение команды на управляемых узлах</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hosts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;uname -a&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> servers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">altsrv2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CHANGED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> altsrv2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5.10.82-std-def-alt1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #1 SMP Fri Dec 3 14:49:25 UTC 2021 x86_64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GNU/Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">altsrv1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CHANGED</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> altsrv1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5.10.82-std-def-alt1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #1 SMP Fri Dec 3 14:49:25 UTC 2021 x86_64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GNU/Linux</span></span></code></pre></div><p>Пример. Удаление файла</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;name=/etc/nologin state=absent&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span></span></code></pre></div><h3 id="создание-хеша-пароля" tabindex="-1">Создание хеша пароля: <a class="header-anchor" href="#создание-хеша-пароля" aria-label="Permalink to &quot;Создание хеша пароля:&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkpasswd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">passwor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>Получаем строку.</p><p>Далее используем ansible-vault:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible-vault</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> encrypt_string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ранее полученный хэш&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">New</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Vault</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Confirm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> New</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Vault</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vault</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $ANSIBLE_VAULT;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AES256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    65366666616436396133363165346432623166616161383037613833393438363039336438386265</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    6633613030303565316431336531313261366532376336640a623861316166643730323833666263</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    65333534303663363066323832376231616261363636616330366634616334663234666330623934</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    3764343932663632350a393563366331376630666239386163656531343936616438316434343738</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    36636533366433353939666333313538633539383365643766663563616534623863396166356530</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    63306638373134303961353364333131386361653064306364346265313334353436303239373838</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    62346136656161653430383730663661393830313430343539366663383431626365633465376436</span></span></code></pre></div><p>И теперь весь этот блок, начиная с <code>!vault |</code> необходимо использовать в ансибле</p><h2 id="полезные-рецепты-с-альтвики" tabindex="-1">Полезные рецепты с Альтвики <a class="header-anchor" href="#полезные-рецепты-с-альтвики" aria-label="Permalink to &quot;Полезные рецепты с Альтвики&quot;">​</a></h2><p>Рецепты применяются командой:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ansible-playbook &lt;имя файла&gt;</span></span></code></pre></div><h3 id="прописывание-репозитория" tabindex="-1">Прописывание репозитория <a class="header-anchor" href="#прописывание-репозитория" aria-label="Permalink to &quot;Прописывание репозитория&quot;">​</a></h3><p>Файл: /etc/ansible/playbooks/repo.yml</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>- hosts: local</span></span>
<span class="line"><span>  remote_user: root</span></span>
<span class="line"><span>  tasks: </span></span>
<span class="line"><span>  - name: Remove all repositories</span></span>
<span class="line"><span>    shell: apt-repo rm all</span></span>
<span class="line"><span>  - name: Add official mirror</span></span>
<span class="line"><span>    shell: apt-repo add http://10.10.3.77/repo/p8</span></span>
<span class="line"><span>  - name: Add official mirror with arepo</span></span>
<span class="line"><span>    shell: apt-repo add &#39;rpm http://10.10.3.77/repo/p8 x86_64-i586 classic&#39;</span></span>
<span class="line"><span>  - name: Add extra repository </span></span>
<span class="line"><span>    shell: apt-repo add &#39;rpm http://10.10.3.77/repo/extra x86_64 extra&#39;</span></span></code></pre></div><p><strong>Примечание:</strong> Используется <a href="http://docs.ansible.com/ansible/latest/modules/shell_module.html" target="_blank" rel="noreferrer">модуль shell</a> и программа apt-repo.</p><h3 id="установка-пакета" tabindex="-1">Установка пакета <a class="header-anchor" href="#установка-пакета" aria-label="Permalink to &quot;Установка пакета&quot;">​</a></h3><p>Файл: /etc/ansible/playbooks/install-ifcplugin.yml</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>- hosts: local</span></span>
<span class="line"><span>  remote_user: root</span></span>
<span class="line"><span>  tasks:</span></span>
<span class="line"><span>  - name: Update cache and install ifcplugin</span></span>
<span class="line"><span>    apt_rpm:</span></span>
<span class="line"><span>      name: ifcplugin</span></span>
<span class="line"><span>      state: present</span></span>
<span class="line"><span>      update_cache: yes</span></span></code></pre></div><h3 id="обновление-системы" tabindex="-1">Обновление системы <a class="header-anchor" href="#обновление-системы" aria-label="Permalink to &quot;Обновление системы&quot;">​</a></h3><p>С версии ansible-2.9.27-alt2 и ansible-core-2.14.2-alt1:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>- hosts: local</span></span>
<span class="line"><span>  remote_user: root</span></span>
<span class="line"><span>  gather_facts: no</span></span>
<span class="line"><span>  tasks:</span></span>
<span class="line"><span>  - name: Update cache</span></span>
<span class="line"><span>    apt_rpm:</span></span>
<span class="line"><span>      update_cache: true</span></span>
<span class="line"><span>  - name: Upgrade system</span></span>
<span class="line"><span>    apt_rpm:</span></span>
<span class="line"><span>      dist_upgrade: true</span></span>
<span class="line"><span>  - name: Upgrade kernel</span></span>
<span class="line"><span>    apt_rpm:</span></span>
<span class="line"><span>      update_kernel: true</span></span>
<span class="line"><span>  - name: Clean package cache</span></span>
<span class="line"><span>    apt_rpm:</span></span>
<span class="line"><span>      clean: true</span></span></code></pre></div><p>Или всё в одном:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>- hosts: local</span></span>
<span class="line"><span>  remote_user: root</span></span>
<span class="line"><span>  gather_facts: no</span></span>
<span class="line"><span>  tasks:</span></span>
<span class="line"><span>  - name: Upgrade system</span></span>
<span class="line"><span>    apt_rpm:</span></span>
<span class="line"><span>      update_cache: true</span></span>
<span class="line"><span>      dist_upgrade: true</span></span>
<span class="line"><span>      update_kernel: true</span></span>
<span class="line"><span>      clean: true</span></span></code></pre></div><p><strong>Примечание:</strong> Используется <a href="https://docs.ansible.com/ansible/latest/collections/community/general/apt_rpm_module.html" target="_blank" rel="noreferrer">модуль apt_rpm</a>.</p><h4 id="ссылки" tabindex="-1">Ссылки <a class="header-anchor" href="#ссылки" aria-label="Permalink to &quot;Ссылки&quot;">​</a></h4><ul><li><a href="http://habr.com/ru/post/508762/" target="_blank" rel="noreferrer">Основы Ansible, без которых ваши плейбуки — комок слипшихся макарон</a></li></ul><hr><p>использование плагина <a href="https://docs.ansible.com/ansible/latest/collections/community/general/nmap_inventory.html" target="_blank" rel="noreferrer">nmap</a> в связке с плагином <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/constructed_inventory.html" target="_blank" rel="noreferrer">constructed</a>. При запуске он опрашивает указанные подсети и формирует список хостов для применения плейбуков или ролей, а потом делает свои грязные делишки на отобранные по правилам хосты.</p>`,49)]))}const g=a(l,[["render",e]]);export{c as __pageData,g as default};
