# AmneziaWG

![](https://docs.amnezia.org/ru/assets/images/OG-5762ed4c3397cbaffc545cb422e052b1.png)

**Amnezia VPN** — это бесплатный и открытый проект, разработанный российскими энтузиастами для обхода интернет-цензуры и защиты приватности пользователей в условиях усиления блокировок и DPI-анализа (глубокой инспекции трафика). В отличие от традиционных VPN-сервисов, Amnezia не предоставляет собственные серверы, а позволяет пользователям развернуть зашифрованный туннель на собственном VPS (виртуальном сервере) с использованием различных протоколов, включая OpenVPN, WireGuard, Shadowsocks, Cloak и другие. Особое внимание в проекте уделяется **маскировке (обфускации) трафика**, чтобы он выглядел как обычный HTTPS, SSH или другой легитимный трафик, что затрудняет его распознавание и блокировку со стороны провайдеров или государственных фильтров.

**AmneziaWG** (Amnezia WireGuard) — это модифицированная версия популярного протокола **WireGuard**, расширенная функциями обфускации. Стандартный WireGuard, несмотря на высокую скорость и надёжность, легко детектируется по характерному UDP-трафику и часто блокируется в странах с жёсткой цензурой (например, в России, Иране, Китае). AmneziaWG решает эту проблему, добавляя **псевдослучайные джиттеры (Jc, Jmin, Jmax)** и **уникальные заголовки (H1–H4)**, а также параметры **S1/S2**, которые изменяют структуру пакетов, делая их похожими на обычный шум или легитимный трафик. При этом сохраняются все преимущества WireGuard: минимальная задержка, высокая производительность и простота настройки.

Важной особенностью AmneziaWG является наличие **нативной поддержки на уровне ядра Linux** через специальный kernel module. Это позволяет обрабатывать обфусцированный трафик напрямую в ядре, без необходимости запуска пользовательских демонов (вроде `amneziawg-go`), что повышает скорость, снижает потребление ресурсов и улучшает стабильность соединения. Конфигурация AmneziaWG выглядит почти как у обычного WireGuard, но включает дополнительные поля (`S1`, `S2`, `Jc`, `Jmin`, `Jmax`, `H1–H4`), которые **должны быть одинаковыми на клиенте и сервере** (за исключением параметров джиттера). Таким образом, AmneziaWG сочетает в себе **высокую степень скрытности** и **производительность на уровне ядра**, что делает его одним из самых эффективных решений для обхода современных систем блокировки.

## Устнаовка

1. Устанавливаем необходимые пакеты:
```bash
apt-get install amnezia-vpn-service amnezia-vpn-client amneziawg-go amneziawg-tools kernel-modules-amneziawg-6.12
```

2. Настраиваем systemd-resolved (https://bugzilla.altlinux.org/52679)
```bash
apt-get install systemd-networkd
```
```bash
systemctl enable --now systemd-resolved
```
```bash
ln -sf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
```

3. Запускаем сервис:
```bash
systemctl enable --now AmneziaVPN
```

4. Теперь входим в графическое приложение как обычно через меню приложений.