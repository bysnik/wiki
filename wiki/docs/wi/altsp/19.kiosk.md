Операционная система должна предоставлять возможность ограничения пользователя в части выполняемых программ, заданных администратором (режим «киоск»).

___

Стенд: Kiosk + Remmina
# Настройка режима Киоск для отдельного пользователя

Режим «киоск» служит для ограничения прав пользователей в системе.
Профиль киоска – файл .desktop (обычно из _`/usr/share/applications`_),
размещаемый в каталог _`/etc/kiosk`_. Задать профиль киоска для пользователя
можно в модуль ЦУС «Локальные учетные записи» _`alterator-users`_ (только GUI).

В качестве примера рассмотрим настройку режима «киоск» для пользователя
kiosk. Пользователю kiosk будет разрешено использовать только веб-браузер firefox.

Для настройки режима киоска для пользователя, необходимо выполнить
следующие действия:

Установить необходимые пакеты:
```bash
# apt-get update
apt-get install alterator-kiosk kiosk-mate-profiles
```

Создать каталог /etc/kiosk (если он еще не создан):
```bash
mkdir /etc/kiosk
```

Скопировать файл firefox.desktop из /usr/share/applications, в
каталог _`/etc/kiosk`_:
```bash
cp /usr/share/applications/firefox.desktop /etc/kiosk/
```

Если необходимо чтобы при запуске веб-браузера открывалась
определенная страница, необходимо внести изменения в файл
_`/etc/kiosk/firefox.desktop`_:
```bash
vim /etc/kiosk/firefox.desktop
Desktop Entry
Exec=firefox http://<адрес_сайта>
```

Запустить ЦУС и в модуле «Локальные учетные записи», выбрав учетную
запись kiosk (если учетной записи не существует, необходимо ее создать), в
выпадающем списке «Режим киоска» выбрать пункт «Веб-браузер
(firefox.desktop)» и нажать кнопку «Применить»;

Завершить сеанс текущего пользователя и войти в систему используя
учетную запись пользователя kiosk. Пользователю kiosk будет доступен
только веб-браузер firefox, по умолчанию будет загружена страница, адрес
которой указан в параметре Exec в файле _`/etc/kiosk/firefox.desktop`_.

# Настройка режима Киоск для всей системы

![](/public/img/kioskks.png)

Для создания нового профиля необходимо создать новый файл в `/etc/alterator/kiosk/profiles/` и вписать в него разрешённые к запуску программы. Например, создать профиль chromium-gost, можно так:

Создать файл`/etc/alterator/kiosk/profiles/chromium-gost-mate`, и добавить в него строки:
```bash
U /usr/bin/chromium-gost
U /usr/bin/getconf
U /usr/lib64/chromium-gost/chrome-sandbox
U /usr/lib64/chromium-gost/chrome_crashpad_handler
U /usr/lib64/chromium-gost/chromium-gost
```

Для выключения режима киоск необходимо зарегистрироваться в системе под пользователем root (например, на второй консоли Ctrl+Alt+F2), выполнить команду:

```bash
echo "0" > /etc/alterator/kiosk/mode
```
